import{E as Fe,o as me,F as xe,g as ee,d as se,G as Oe,x as z,y as q,z as t,H as te,I as Ie,J as K,A as I,K as c,L as Ae,M as _e,N as ne,k as Z,O as We,P as ue,Q as he,D as De,R as pe,S as Be,f as je,T as Ve,C as ke,U as fe,V as Ge,B as oe,W as He,X as ze,Y as qe}from"./CddD5PMK.js";import{_ as ge}from"./DlAUqK2U.js";import{u as Le,_ as Ne}from"./BONnrZvS.js";import{u as ye}from"./DNQJ2cM5.js";const Ye=Fe("/images/hero-background.jpg"),Xe=Fe("/images/logo_year.png");function $e(){const r=ee(!1);let a=null;const e=()=>{r.value=a?.matches??!1};return me(()=>{typeof window<"u"&&(a=window.matchMedia("(prefers-reduced-motion: reduce)"),r.value=a.matches,a.addEventListener("change",e))}),xe(()=>{a?.removeEventListener("change",e)}),{prefersReducedMotion:r}}const Qe={class:"relative z-10 h-full flex flex-col items-center justify-center px-4"},Ke={datetime:"2026-05-16/2026-05-17"},Ue=["aria-label","onKeydown"],Je={class:"text-sm text-cream/80 tracking-wider","aria-hidden":"true"},Ze=se({__name:"HeroSection",setup(r){const{t:a}=ne(),{prefersReducedMotion:e}=$e(),f=ee(!1),h=ee(0),v=ee(null),k=ee(0),$=()=>{h.value=window.scrollY},w=()=>{v.value&&(k.value=v.value.offsetHeight)};me(()=>{window.addEventListener("scroll",$,{passive:!0}),window.addEventListener("resize",w),w(),e.value?f.value=!0:setTimeout(()=>{f.value=!0},100)}),xe(()=>{window.removeEventListener("scroll",$),window.removeEventListener("resize",w)});const u=Z(()=>{const N=Math.min(h.value/(k.value*.7),1),n=h.value*.4,T=1-N*.3,y=1-N;return{transform:`translateY(${n}px) scale(${T})`,opacity:Math.max(y,0)}}),m=Z(()=>({transform:`translateY(${h.value*.5}px)`})),P=Z(()=>.3+Math.min(h.value/(k.value*.5),1)*.4),D=()=>{const N=document.getElementById("about");N&&N.scrollIntoView({behavior:"smooth"})},{openModal:U}=Oe("modalControls");return(N,n)=>(z(),q("section",{id:"hero",ref_key:"heroRef",ref:v,class:"relative h-screen min-h-[600px] overflow-hidden","aria-labelledby":"hero-heading"},[t("div",{class:"absolute inset-0 w-full h-[120%] -top-[10%]",style:te(m.value)},[...n[1]||(n[1]=[t("img",{src:Ye,alt:"",role:"presentation",class:"w-full h-full object-cover",width:"1920",height:"1080",fetchpriority:"high"},null,-1)])],4),t("div",{class:"absolute inset-0 transition-opacity duration-300",style:te({backgroundColor:`rgba(14, 36, 51, ${P.value*.7})`}),"aria-hidden":"true"},null,4),n[5]||(n[5]=Ie('<div class="absolute inset-0 bg-grid-pattern bg-grid opacity-10" aria-hidden="true" data-v-2bce245c></div><div class="absolute inset-0 overflow-hidden pointer-events-none" aria-hidden="true" data-v-2bce245c><div class="absolute top-1/4 left-[10%] w-2 h-2 rounded-full bg-electric-cyan/40 animate-float" style="animation-delay:0s;" data-v-2bce245c></div><div class="absolute top-1/3 right-[15%] w-3 h-3 rounded-full bg-neon-coral/30 animate-float" style="animation-delay:1s;" data-v-2bce245c></div><div class="absolute bottom-1/3 left-[20%] w-2 h-2 rounded-full bg-valencia-purple/30 animate-float" style="animation-delay:2s;" data-v-2bce245c></div><div class="absolute top-1/2 right-[10%] w-1.5 h-1.5 rounded-full bg-cream/30 animate-float" style="animation-delay:0.5s;" data-v-2bce245c></div></div>',2)),t("div",Qe,[n[3]||(n[3]=t("h1",{id:"hero-heading",class:"sr-only"}," Valencia Masters Water Polo Cup 2026 - III Masters Water Polo Tournament ",-1)),t("div",{class:K(["hero-entrance",{"is-visible":f.value}]),style:te(u.value)},[...n[2]||(n[2]=[t("img",{src:Xe,alt:"Valencia Masters Water Polo Cup 2026",class:"w-[100%] max-w-[500px] h-auto drop-shadow-2xl",width:"500",height:"400",fetchpriority:"high"},null,-1)])],6),t("p",{class:K(["hero-entrance stagger-1 mt-6 text-lg md:text-xl text-center text-white/90 font-light tracking-wide",{"is-visible":f.value}]),style:te({opacity:f.value?Math.max(1-h.value/300,0):0})},I(c(a).hero.subtitle),7),t("p",{class:K(["hero-entrance stagger-2 mt-4 font-display text-2xl md:text-3xl text-cream tracking-widest text-neon-subtle",{"is-visible":f.value}]),style:te({opacity:f.value?Math.max(1-h.value/300,0):0})},[t("time",Ke,I(c(a).hero.dates),1)],6),t("button",{class:K(["hero-entrance stagger-3 mt-8 btn-primary",{"is-visible":f.value}]),style:te({opacity:f.value?Math.max(1-h.value/200,0):0}),"aria-label":"Open pre-registration form",onClick:n[0]||(n[0]=(...T)=>c(U)&&c(U)(...T))},I(c(a).hero.cta),7)]),t("div",{class:K(["hero-entrance stagger-4 absolute bottom-8 left-1/2 -translate-x-1/2 flex flex-col items-center gap-2 cursor-pointer",{"is-visible":f.value}]),style:te({opacity:f.value?Math.max(1-h.value/100,0):0}),role:"button",tabindex:"0","aria-label":c(a).hero.scroll,onClick:D,onKeydown:[Ae(D,["enter"]),Ae(_e(D,["prevent"]),["space"])]},[t("span",Je,I(c(a).hero.scroll),1),n[4]||(n[4]=t("div",{class:"animate-scroll-bounce","aria-hidden":"true"},[t("svg",{class:"w-6 h-6 text-cream",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 14l-7 7m0 0l-7-7m7 7V3"})])],-1))],46,Ue)],512))}}),et=Object.assign(ge(Ze,[["__scopeId","data-v-2bce245c"]]),{__name:"HeroSection"}),tt={key:0,id:"sponsors",class:"py-20 md:py-32 relative overflow-hidden bg-sea-mist/20 dark:bg-valencia-purple/5","aria-labelledby":"sponsors-heading",role:"complementary"},ot={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative z-10"},st={class:"text-center mb-12 md:mb-16"},at={id:"sponsors-heading",class:"section-title text-gradient"},lt=["aria-label"],nt=["href","target","rel","aria-label"],it=["src","alt"],rt={class:"sponsor-name"},ct={class:"text-center mt-10 md:mt-12"},dt=["href"],ut=se({__name:"SectionSponsors",async setup(r){let a,e;const{t:f}=ne(),{data:h}=([a,e]=We(()=>Le("/data/sponsors.json","$uALORNJRMD")),a=await a,e(),a),v=Z(()=>h.value?.sponsors||[]),k=Z(()=>v.value.length>0),$=Z(()=>{const u=v.value.length;return u===1?"grid-cols-1 max-w-xs mx-auto":u===2?"grid-cols-2 max-w-md mx-auto":u<=4?"grid-cols-2 sm:grid-cols-4 max-w-3xl mx-auto":"grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6"}),w=Z(()=>k.value?{"@context":"https://schema.org","@type":"SportsEvent",name:"Valencia Masters Water Polo Cup 2026",description:"III Masters Water Polo Tournament - UPV Campus, Valencia",startDate:"2026-05-16",endDate:"2026-05-17",eventStatus:"https://schema.org/EventScheduled",eventAttendanceMode:"https://schema.org/OfflineEventAttendanceMode",location:{"@type":"Place",name:"UPV Campus Swimming Pool",address:{"@type":"PostalAddress",streetAddress:"Camino de Vera, s/n",addressLocality:"Valencia",postalCode:"46022",addressCountry:"ES"}},organizer:{"@type":"Organization",name:"Valencia Masters Water Polo Cup",url:"https://valenciamasterswaterpolo.com"},sponsor:v.value.map(u=>({"@type":"Organization",name:u.name,logo:u.logo.startsWith("http")?u.logo:`https://valenciamasterswaterpolo.com${u.logo}`,...u.url&&{url:u.url}}))}:null);return ye({script:Z(()=>w.value?[{type:"application/ld+json",innerHTML:JSON.stringify(w.value)}]:[])}),(u,m)=>k.value?(z(),q("aside",tt,[m[2]||(m[2]=t("div",{class:"absolute top-0 right-0 w-64 md:w-96 h-64 md:h-96 bg-valencia-purple/5 rounded-full blur-3xl"},null,-1)),m[3]||(m[3]=t("div",{class:"absolute bottom-0 left-0 w-64 md:w-96 h-64 md:h-96 bg-ocean-blue/5 rounded-full blur-3xl"},null,-1)),t("div",ot,[t("div",st,[t("h2",at,I(c(f).sponsors.title),1),m[0]||(m[0]=t("div",{class:"neon-divider"},null,-1))]),t("div",{class:K(["grid gap-6 md:gap-8 lg:gap-10 justify-items-center",$.value]),role:"list","aria-label":c(f).sponsors.title},[(z(!0),q(ue,null,he(v.value,P=>(z(),q("figure",{key:P.name,class:"glass-card sponsor-card group",role:"listitem"},[t("a",{href:P.url||void 0,target:P.url?"_blank":void 0,rel:P.url?"sponsored noopener noreferrer":void 0,class:"flex items-center justify-center w-full","aria-label":P.url?`Visit ${P.name} website`:P.name},[t("img",{src:P.logo,alt:`${P.name} logo - Official sponsor of Valencia Masters Water Polo Cup 2026`,class:"sponsor-logo",width:"160",height:"80",loading:"lazy",decoding:"async"},null,8,it)],8,nt),t("figcaption",rt,I(P.name),1)]))),128))],10,lt),t("div",ct,[t("a",{href:`mailto:${c(f).contact.email}?subject=Sponsorship Valencia Masters Water Polo Cup 2026`,class:"inline-flex items-center gap-2 text-ocean-blue hover:text-valencia-purple dark:text-electric-cyan dark:hover:text-neon-coral transition-colors text-sm md:text-base font-medium"},[m[1]||(m[1]=t("svg",{class:"w-4 h-4 md:w-5 md:h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})],-1)),De(" "+I(c(f).sponsors.cta),1)],8,dt)])])])):pe("",!0)}}),ht=Object.assign(ge(ut,[["__scopeId","data-v-a2f46606"]]),{__name:"SectionSponsors"});function de(r={}){const{threshold:a=.2,rootMargin:e="0px 0px -50px 0px",once:f=!0,delay:h=0}=r,{prefersReducedMotion:v}=$e(),k=ee(null),$=ee(!1),w=ee(!1);let u=null,m=null;const P=()=>{!k.value||typeof window>"u"||(u=new IntersectionObserver(D=>{D.forEach(U=>{U.isIntersecting&&(!f||!w.value)?(h>0&&!v.value?m=setTimeout(()=>{$.value=!0,w.value=!0},h):($.value=!0,w.value=!0),f&&u&&u.unobserve(U.target)):f||($.value=!1)})},{threshold:a,rootMargin:e}),u.observe(k.value))};return me(()=>{v.value?($.value=!0,w.value=!0):P()}),xe(()=>{u?.disconnect(),m&&clearTimeout(m)}),Be(v,D=>{D&&($.value=!0,w.value=!0,u?.disconnect())}),{elementRef:k,isVisible:$,hasAnimated:w}}function be(r,a={}){const{threshold:e=.15,rootMargin:f="0px 0px -50px 0px",baseDelay:h=0,staggerDelay:v=100,once:k=!0}=a,{prefersReducedMotion:$}=$e(),w=ee(null),u=ee(!1),m=ee([]),P=ee(!1),D=Z(()=>typeof r=="function"?r():typeof r=="number"?r:r.value),U=()=>{m.value=new Array(D.value).fill(!1)},N=()=>{if($.value){m.value=new Array(D.value).fill(!0);return}for(let _=0;_<D.value;_++)setTimeout(()=>{m.value[_]!==void 0&&(m.value[_]=!0)},h+_*v)};let n=null;return me(()=>{if(U(),$.value){u.value=!0,m.value=new Array(D.value).fill(!0),P.value=!0;return}!w.value||typeof window>"u"||(n=new IntersectionObserver(_=>{_.forEach(V=>{V.isIntersecting&&(!k||!P.value)&&(u.value=!0,P.value=!0,N(),k&&n&&n.unobserve(V.target))})},{threshold:e,rootMargin:f}),n.observe(w.value))}),xe(()=>{n?.disconnect()}),Be(D,()=>{U(),P.value&&N()}),Be($,_=>{_&&(u.value=!0,m.value=new Array(D.value).fill(!0),P.value=!0,n?.disconnect())}),{containerRef:w,isContainerVisible:u,visibleItems:m,getItemStyle:_=>$.value?{}:{transitionDelay:`${h+_*v}ms`},isItemVisible:_=>m.value[_]??!1,hasAnimated:P}}const pt={id:"about",class:"py-20 md:py-32 relative overflow-hidden bg-aqua-wash/30","aria-labelledby":"about-heading"},mt={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative z-10"},vt={id:"about-heading",class:"section-title text-gradient"},ft={class:"max-w-2xl mx-auto text-lg text-deep-navy/70 dark:text-cream/70 leading-relaxed"},xt={class:"feature-card text-center group h-full",role:"listitem"},gt=["innerHTML"],yt={class:"font-display text-xl tracking-wide text-deep-navy dark:text-cream mb-2"},bt={class:"text-deep-navy/60 dark:text-cream/60"},wt=se({__name:"SectionAbout",setup(r){const{t:a}=ne(),{elementRef:e,isVisible:f}=de({threshold:.3}),h=Z(()=>a.value.about.features?.length||3),{containerRef:v,isItemVisible:k,getItemStyle:$}=be(h,{staggerDelay:150,baseDelay:100}),w={0:`<svg class="w-8 h-8" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true">
    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3.055 11H5a2 2 0 012 2v1a2 2 0 002 2 2 2 0 012 2v2.945M8 3.935V5.5A2.5 2.5 0 0010.5 8h.5a2 2 0 012 2 2 2 0 104 0 2 2 0 012-2h1.064M15 20.488V18a2 2 0 012-2h3.064M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
  </svg>`,1:`<svg class="w-8 h-8" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true">
    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z" />
  </svg>`,2:`<svg class="w-8 h-8" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true">
    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4" />
  </svg>`};return(u,m)=>{const P=je("TiltCard");return z(),q("section",pt,[m[1]||(m[1]=t("div",{class:"absolute top-0 right-0 w-96 h-96 bg-valencia-purple/5 rounded-full blur-3xl","aria-hidden":"true"},null,-1)),m[2]||(m[2]=t("div",{class:"absolute bottom-0 left-0 w-96 h-96 bg-ocean-blue/5 rounded-full blur-3xl","aria-hidden":"true"},null,-1)),t("div",mt,[t("div",{ref_key:"titleRef",ref:e,class:K(["text-center mb-16 scroll-reveal",{"is-visible":c(f)}])},[t("h2",vt,I(c(a).about.title),1),m[0]||(m[0]=t("div",{class:"neon-divider","aria-hidden":"true"},null,-1)),t("p",ft,I(c(a).about.description),1)],2),t("div",{ref_key:"featuresRef",ref:v,class:"grid md:grid-cols-3 gap-8",role:"list","aria-label":"Event features"},[(z(!0),q(ue,null,he(c(a).about.features,(D,U)=>(z(),Ve(P,{key:U,"max-tilt":8,glare:!0,class:K(["scroll-reveal",{"is-visible":c(k)(U)}]),style:te(c($)(U))},{default:ke(()=>[t("article",xt,[t("div",{class:"w-16 h-16 mx-auto mb-4 flex items-center justify-center rounded-full bg-gradient-to-br from-electric-cyan/20 to-ocean-blue/20 text-ocean-blue group-hover:shadow-neon-subtle transition-all duration-300",innerHTML:w[U],"aria-hidden":"true"},null,8,gt),t("h3",yt,I(D.title),1),t("p",bt,I(D.description),1)])]),_:2},1032,["class","style"]))),128))],512)])])}}}),_t=Object.assign(wt,{__name:"SectionAbout"}),kt={id:"schedule",class:"py-20 md:py-32 bg-peach-wash/30 relative","aria-labelledby":"schedule-heading"},St={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},Mt={id:"schedule-heading",class:"section-title text-gradient"},Pt={class:"font-display text-lg tracking-wide text-ocean-blue dark:text-electric-cyan mb-2"},Ct={class:"text-deep-navy dark:text-cream font-medium"},Tt={class:"font-display text-lg tracking-wide text-neon-coral mb-2"},Bt={class:"text-deep-navy dark:text-cream font-medium"},It={datetime:"2026-05-16/2026-05-17"},$t={class:"font-display text-lg tracking-wide text-valencia-purple dark:text-sunset-peach mb-2"},Rt={class:"text-deep-navy dark:text-cream font-medium text-sm"},At={datetime:"2026-05-16T15:00/21:00"},Et={class:"text-deep-navy dark:text-cream font-medium text-sm"},Ft={datetime:"2026-05-17T09:00/15:00"},Ot={class:"font-display text-lg tracking-wide text-valencia-purple dark:text-sunset-peach mb-2"},Wt={class:"text-deep-navy dark:text-cream font-medium text-sm"},Dt={class:"not-italic"},Lt=se({__name:"SectionSchedule",setup(r){const{t:a}=ne(),{elementRef:e,isVisible:f}=de({threshold:.3}),{containerRef:h,isItemVisible:v,getItemStyle:k}=be(4,{staggerDelay:100,baseDelay:100}),$=Z(()=>({"@context":"https://schema.org","@type":"SportsEvent",name:"Valencia Masters Water Polo Cup 2026",description:"III Masters Water Polo Tournament - Mixed Masters +30 category",startDate:"2026-05-16T15:00:00+02:00",endDate:"2026-05-17T15:00:00+02:00",eventStatus:"https://schema.org/EventScheduled",eventAttendanceMode:"https://schema.org/OfflineEventAttendanceMode",location:{"@type":"Place",name:"UPV Campus Swimming Pool",address:{"@type":"PostalAddress",streetAddress:"Camino de Vera, s/n",addressLocality:"Valencia",postalCode:"46022",addressRegion:"Valencia",addressCountry:"ES"},geo:{"@type":"GeoCoordinates",latitude:39.4817,longitude:-.3419}},organizer:{"@type":"Organization",name:"Valencia Masters Water Polo Cup",url:"https://valenciamasterswaterpolo.com",email:"info@valenciamasterswaterpolo.com"},sport:"Water Polo",competitor:{"@type":"SportsTeam",sport:"Water Polo"}}));return ye({script:[{type:"application/ld+json",innerHTML:JSON.stringify($.value)}]}),(w,u)=>(z(),q("section",kt,[t("div",St,[t("div",{ref_key:"titleRef",ref:e,class:K(["text-center mb-16 scroll-reveal",{"is-visible":c(f)}])},[t("h2",Mt,I(c(a).schedule.title),1),u[0]||(u[0]=t("div",{class:"neon-divider","aria-hidden":"true"},null,-1))],2),t("dl",{ref_key:"cardsRef",ref:h,class:"grid md:grid-cols-2 lg:grid-cols-4 gap-6"},[t("div",{class:K(["glass-card p-6 text-center scroll-reveal hover-lift",{"is-visible":c(v)(0)}]),style:te(c(k)(0))},[u[1]||(u[1]=t("div",{class:"w-12 h-12 mx-auto mb-4 flex items-center justify-center rounded-full bg-ocean-blue/15 text-ocean-blue","aria-hidden":"true"},[t("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})])],-1)),t("dt",Pt,I(c(a).schedule.category.label),1),t("dd",Ct,I(c(a).schedule.category.value),1)],6),t("div",{class:K(["glass-card p-6 text-center scroll-reveal hover-lift",{"is-visible":c(v)(1)}]),style:te(c(k)(1))},[u[2]||(u[2]=t("div",{class:"w-12 h-12 mx-auto mb-4 flex items-center justify-center rounded-full bg-neon-coral/15 text-neon-coral","aria-hidden":"true"},[t("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})])],-1)),t("dt",Tt,I(c(a).schedule.dates.label),1),t("dd",Bt,[t("time",It,I(c(a).schedule.dates.value),1)])],6),t("div",{class:K(["glass-card p-6 text-center scroll-reveal hover-lift",{"is-visible":c(v)(2)}]),style:te(c(k)(2))},[u[3]||(u[3]=t("div",{class:"w-12 h-12 mx-auto mb-4 flex items-center justify-center rounded-full bg-sunset-peach/30 text-valencia-purple","aria-hidden":"true"},[t("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1)),t("dt",$t,I(c(a).schedule.times.label),1),t("dd",Rt,[t("time",At,I(c(a).schedule.times.saturday),1)]),t("dd",Et,[t("time",Ft,I(c(a).schedule.times.sunday),1)])],6),t("div",{class:K(["glass-card p-6 text-center scroll-reveal hover-lift",{"is-visible":c(v)(3)}]),style:te(c(k)(3))},[u[4]||(u[4]=t("div",{class:"w-12 h-12 mx-auto mb-4 flex items-center justify-center rounded-full bg-valencia-purple/15 text-valencia-purple","aria-hidden":"true"},[t("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})])],-1)),t("dt",Ot,I(c(a).schedule.location.label),1),t("dd",Wt,[t("address",Dt,I(c(a).schedule.location.value),1)])],6)],512)])]))}}),jt=Object.assign(Lt,{__name:"SectionSchedule"}),Vt={class:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 relative z-10"},Gt={class:"text-center mb-12"},Ht={id:"format-heading",class:"section-title text-gradient"},zt={class:"grid grid-cols-2 md:grid-cols-3 gap-4",role:"list","aria-label":"Tournament format details"},qt={class:"flex items-center gap-3"},Nt=["innerHTML"],Yt={class:"text-deep-navy/90 dark:text-cream/90 font-medium text-sm md:text-base"},Xt=se({__name:"SectionFormat",setup(r){const{t:a}=ne(),e=ee(!1),f=ee(null);me(()=>{const k=new IntersectionObserver($=>{$.forEach(w=>{w.isIntersecting&&(e.value=!0)})},{threshold:.2});f.value&&k.observe(f.value)});const h={fields:'<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true"><rect x="2" y="4" width="8" height="16" rx="1"/><rect x="14" y="4" width="8" height="16" rx="1"/></svg>',clock:'<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true"><circle cx="12" cy="12" r="10"/><path d="M12 6v6l4 2"/></svg>',bracket:'<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true"><path d="M4 4v4h4M4 20v-4h4M20 4v4h-4M20 20v-4h-4"/><circle cx="12" cy="12" r="3"/></svg>',score:'<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true"><rect x="2" y="6" width="9" height="12" rx="1"/><rect x="13" y="6" width="9" height="12" rx="1"/><text x="6.5" y="14" font-size="6" fill="currentColor" text-anchor="middle">3</text><text x="17.5" y="14" font-size="6" fill="currentColor" text-anchor="middle">0</text></svg>',penalty:'<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true"><rect x="4" y="2" width="16" height="12" rx="1"/><circle cx="12" cy="18" r="3"/><path d="M12 15v-3"/></svg>',trophy:'<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true"><path d="M6 9H4a2 2 0 01-2-2V5h4M18 9h2a2 2 0 002-2V5h-4"/><path d="M4 5h16v4a6 6 0 01-6 6h-4a6 6 0 01-6-6V5z"/><path d="M12 15v4M8 21h8"/></svg>'},v=k=>h[k]||"";return(k,$)=>(z(),q("section",{id:"format",ref_key:"sectionRef",ref:f,class:"py-20 md:py-32 relative overflow-hidden bg-cream/50 dark:bg-deep-navy/30","aria-labelledby":"format-heading"},[$[1]||($[1]=t("div",{class:"absolute inset-0 bg-gradient-to-b from-transparent via-valencia-purple/5 to-transparent","aria-hidden":"true"},null,-1)),t("div",Vt,[t("div",Gt,[t("h2",Ht,I(c(a).format.title),1),$[0]||($[0]=t("div",{class:"neon-divider","aria-hidden":"true"},null,-1))]),t("ul",zt,[(z(!0),q(ue,null,he(c(a).format.items,(w,u)=>(z(),q("li",{key:w.key,class:K(["format-card group",{"animate-slide-up":e.value}]),style:te({animationDelay:`${u*100}ms`})},[t("div",qt,[t("div",{class:"w-10 h-10 flex items-center justify-center rounded-lg bg-gradient-to-br from-electric-cyan/20 to-ocean-blue/20 text-ocean-blue group-hover:shadow-neon-subtle transition-all",innerHTML:v(w.icon),"aria-hidden":"true"},null,8,Nt),t("span",Yt,I(w.text),1)])],6))),128))])])],512))}}),Qt=Object.assign(ge(Xt,[["__scopeId","data-v-490ac286"]]),{__name:"SectionFormat"}),Kt={id:"why",class:"py-20 md:py-32 bg-aqua-wash/30 relative overflow-hidden","aria-labelledby":"why-heading"},Ut={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative z-10"},Jt={id:"why-heading",class:"section-title text-gradient"},Zt=["innerHTML"],eo={class:"font-display text-xl tracking-wide text-deep-navy dark:text-cream mb-2"},to={class:"text-deep-navy/60 dark:text-cream/60 text-sm"},oo=se({__name:"SectionWhy",setup(r){const{t:a}=ne(),{elementRef:e,isVisible:f}=de({threshold:.3}),h=Z(()=>a.value.why.features?.length||4),{containerRef:v,isItemVisible:k,getItemStyle:$}=be(h,{staggerDelay:120,baseDelay:100}),w={video:'<svg class="w-8 h-8" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z" /></svg>',whistle:'<svg class="w-8 h-8" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5.882V19.24a1.76 1.76 0 01-3.417.592l-2.147-6.15M18 13a3 3 0 100-6M5.436 13.683A4.001 4.001 0 017 6h1.832c4.1 0 7.625-1.234 9.168-3v14c-1.543-1.766-5.067-3-9.168-3H7a3.988 3.988 0 01-1.564-.317z" /></svg>',gift:'<svg class="w-8 h-8" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v13m0-13V6a2 2 0 112 2h-2zm0 0V5.5A2.5 2.5 0 109.5 8H12zm-7 4h14M5 12a2 2 0 110-4h14a2 2 0 110 4M5 12v7a2 2 0 002 2h10a2 2 0 002-2v-7" /></svg>',dinner:'<svg class="w-8 h-8" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z" /></svg>'};return(u,m)=>(z(),q("section",Kt,[m[1]||(m[1]=t("div",{class:"absolute -top-32 -right-32 w-96 h-96 bg-neon-coral/10 rounded-full blur-3xl","aria-hidden":"true"},null,-1)),m[2]||(m[2]=t("div",{class:"absolute -bottom-32 -left-32 w-96 h-96 bg-electric-cyan/10 rounded-full blur-3xl","aria-hidden":"true"},null,-1)),t("div",Ut,[t("div",{ref_key:"titleRef",ref:e,class:K(["text-center mb-16 scroll-reveal",{"is-visible":c(f)}])},[t("h2",Jt,I(c(a).why.title),1),m[0]||(m[0]=t("div",{class:"neon-divider","aria-hidden":"true"},null,-1))],2),t("ul",{ref_key:"featuresRef",ref:v,class:"grid md:grid-cols-2 lg:grid-cols-4 gap-8",role:"list","aria-label":"Tournament benefits"},[(z(!0),q(ue,null,he(c(a).why.features,(P,D)=>(z(),q("li",{key:D,class:K(["feature-card text-center group scroll-reveal hover-lift",{"is-visible":c(k)(D)}]),style:te(c($)(D))},[t("div",{class:"w-16 h-16 mx-auto mb-4 flex items-center justify-center rounded-full bg-gradient-to-br from-neon-coral/20 to-sunset-peach/30 text-neon-coral group-hover:shadow-neon-coral transition-all",innerHTML:w[P.icon],"aria-hidden":"true"},null,8,Zt),t("h3",eo,I(P.title),1),t("p",to,I(P.description),1)],6))),128))],512)])]))}}),so=Object.assign(oo,{__name:"SectionWhy"}),ao={key:0,id:"teams",class:"py-20 md:py-32 bg-valencia-purple/5 dark:bg-valencia-purple/10 relative overflow-hidden","aria-labelledby":"teams-heading"},lo={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative z-10"},no={class:"text-center mb-16"},io={id:"teams-heading",class:"section-title text-gradient"},ro={class:"max-w-2xl mx-auto text-lg text-deep-navy/70 dark:text-cream/70 leading-relaxed"},co=["aria-label"],uo=["href","target","rel","aria-label"],ho={class:"w-20 h-20 mb-4 flex items-center justify-center"},po=["src","alt"],mo={class:"text-center text-sm font-medium text-deep-navy dark:text-cream group-hover:text-valencia-purple dark:group-hover:text-electric-cyan transition-colors"},vo={key:0,class:"text-xs text-deep-navy/50 dark:text-cream/50 mt-1"},fo=se({__name:"SectionTeams",async setup(r){let a,e;const{t:f}=ne(),{data:h}=([a,e]=We(()=>Le("/data/teams.json","$uzSWI9PIV_")),a=await a,e(),a),v=Z(()=>h.value?.teams||[]),k=Z(()=>v.value.length>0),$=Z(()=>k.value?{"@context":"https://schema.org","@type":"ItemList",name:"Participating Teams - Valencia Masters Water Polo Cup 2026",description:"List of teams participating in the Valencia Masters Water Polo Cup 2026",numberOfItems:v.value.length,itemListElement:v.value.map((w,u)=>({"@type":"ListItem",position:u+1,item:{"@type":"SportsTeam",name:w.name,sport:"Water Polo",...w.logo&&{logo:w.logo.startsWith("http")?w.logo:`https://valenciamasterswaterpolo.com${w.logo}`},...w.url&&{url:w.url},...w.country&&{location:{"@type":"Country",name:w.country}}}}))}:null);return ye({script:Z(()=>$.value?[{type:"application/ld+json",innerHTML:JSON.stringify($.value)}]:[])}),(w,u)=>k.value?(z(),q("section",ao,[u[1]||(u[1]=t("div",{class:"absolute top-0 left-0 w-96 h-96 bg-ocean-blue/5 rounded-full blur-3xl","aria-hidden":"true"},null,-1)),u[2]||(u[2]=t("div",{class:"absolute bottom-0 right-0 w-96 h-96 bg-valencia-purple/5 rounded-full blur-3xl","aria-hidden":"true"},null,-1)),t("div",lo,[t("div",no,[t("h2",io,I(c(f).teams.title),1),u[0]||(u[0]=t("div",{class:"neon-divider","aria-hidden":"true"},null,-1)),t("p",ro,I(c(f).teams.description),1)]),t("ul",{class:"flex flex-wrap justify-center items-stretch gap-6 md:gap-8",role:"list","aria-label":c(f).teams.title},[(z(!0),q(ue,null,he(v.value,m=>(z(),q("li",{key:m.name,class:"feature-card p-6 flex flex-col items-center justify-center min-w-[140px] max-w-[180px] hover:scale-105 transition-transform group"},[t("a",{href:m.url||void 0,target:m.url?"_blank":void 0,rel:m.url?"noopener noreferrer":void 0,class:"flex flex-col items-center justify-center w-full h-full","aria-label":m.url?`Visit ${m.name} website`:m.name},[t("figure",ho,[t("img",{src:m.logo,alt:`${m.name} team logo`,class:"max-w-full max-h-full object-contain",width:"80",height:"80",loading:"lazy",decoding:"async"},null,8,po)]),t("p",mo,I(m.name),1),m.country?(z(),q("span",vo,I(m.country),1)):pe("",!0)],8,uo)]))),128))],8,co)])])):pe("",!0)}}),xo=Object.assign(fo,{__name:"SectionTeams"}),go={id:"valencia",class:"py-20 md:py-32 relative overflow-hidden bg-peach-wash/30","aria-labelledby":"valencia-heading"},yo={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative z-10"},bo={id:"valencia-heading",class:"section-title text-gradient"},wo=["innerHTML"],_o={class:"font-display text-xl tracking-wide text-deep-navy dark:text-cream mb-2"},ko={class:"text-deep-navy/60 dark:text-cream/60 text-sm"},So=se({__name:"SectionValencia",setup(r){const{t:a}=ne(),{elementRef:e,isVisible:f}=de({threshold:.3}),h=Z(()=>a.value.valencia.features?.length||4),{containerRef:v,isItemVisible:k,getItemStyle:$}=be(h,{staggerDelay:120,baseDelay:100}),w={beach:'<svg class="w-8 h-8" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z" /></svg>',food:'<svg class="w-8 h-8" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253" /></svg>',arts:'<svg class="w-8 h-8" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4" /></svg>',nightlife:'<svg class="w-8 h-8" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z" /></svg>'};return(u,m)=>(z(),q("section",go,[m[1]||(m[1]=t("div",{class:"absolute inset-0 bg-gradient-to-b from-transparent via-valencia-purple/5 to-transparent","aria-hidden":"true"},null,-1)),t("div",yo,[t("div",{ref_key:"titleRef",ref:e,class:K(["text-center mb-16 scroll-reveal",{"is-visible":c(f)}])},[t("h2",bo,I(c(a).valencia.title),1),m[0]||(m[0]=t("div",{class:"neon-divider","aria-hidden":"true"},null,-1))],2),t("ul",{ref_key:"featuresRef",ref:v,class:"grid md:grid-cols-2 lg:grid-cols-4 gap-8",role:"list","aria-label":"Valencia attractions"},[(z(!0),q(ue,null,he(c(a).valencia.features,(P,D)=>(z(),q("li",{key:D,class:K(["feature-card text-center group scroll-reveal hover-lift",{"is-visible":c(k)(D)}]),style:te(c($)(D))},[t("div",{class:"w-16 h-16 mx-auto mb-4 flex items-center justify-center rounded-full bg-gradient-to-br from-sunset-peach/30 to-neon-coral/20 text-valencia-purple group-hover:shadow-neon-purple transition-all",innerHTML:w[P.icon],"aria-hidden":"true"},null,8,wo),t("h3",_o,I(P.title),1),t("p",ko,I(P.description),1)],6))),128))],512)])]))}}),Mo=Object.assign(So,{__name:"SectionValencia"}),Po={id:"stats",class:"py-20 md:py-32 bg-cream/60 dark:bg-deep-navy/40 relative overflow-hidden","aria-labelledby":"stats-heading"},Co={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative z-10"},To={id:"stats-heading",class:"section-title text-gradient"},Bo={class:"glass-card p-8 md:p-12 hover:border-neon-coral/50 transition-all duration-300"},Io={class:"sr-only"},$o={class:"stat-number mb-4","aria-label":"stat.number"},Ro={class:"font-display text-xl tracking-wider text-deep-navy/80 dark:text-cream/80"},Ao=se({__name:"SectionStats",setup(r){const{t:a}=ne(),{elementRef:e,isVisible:f}=de({threshold:.3}),h=Z(()=>a.value.stats.items?.length||3),{containerRef:v,isItemVisible:k,getItemStyle:$}=be(h,{staggerDelay:150,baseDelay:200});return(w,u)=>(z(),q("section",Po,[u[1]||(u[1]=t("div",{class:"absolute inset-0","aria-hidden":"true"},[t("div",{class:"absolute top-1/2 left-1/4 w-64 h-64 bg-neon-coral/10 rounded-full blur-3xl"}),t("div",{class:"absolute top-1/2 right-1/4 w-64 h-64 bg-electric-cyan/10 rounded-full blur-3xl"})],-1)),t("div",Co,[t("div",{ref_key:"titleRef",ref:e,class:K(["text-center mb-16 scroll-reveal",{"is-visible":c(f)}])},[t("h2",To,I(c(a).stats.title),1),u[0]||(u[0]=t("div",{class:"neon-divider","aria-hidden":"true"},null,-1))],2),t("dl",{ref_key:"statsRef",ref:v,class:"grid md:grid-cols-3 gap-8 md:gap-12","aria-label":"Tournament statistics"},[(z(!0),q(ue,null,he(c(a).stats.items,(m,P)=>(z(),q("div",{key:P,class:K(["text-center group scroll-reveal-scale",{"is-visible":c(k)(P)}]),style:te(c($)(P))},[t("div",Bo,[t("dt",Io,I(m.label),1),t("dd",$o,I(m.number),1),t("dt",Ro,I(m.label),1)])],6))),128))],512)])]))}}),Eo=Object.assign(Ao,{__name:"SectionStats"}),Fo={water:"#70BECF",waterLight:"#9ED2D5",waterDark:"#196CA0",poolEdge:"#73326D",laneLines:"#FFFFFF",whiteTeamCap:"#FCFBD9",whiteTeamBody:"#FFE4C4",blueTeamCap:"#196CA0",blueTeamBody:"#4A90A4",ball:"#FE6E81",goalFrame:"#FFFFFF",goalNet:"#CCCCCC"},Oo={canvasWidth:800,canvasHeight:480,poolBounds:{x:40,y:40,width:720,height:400},spriteSize:32,gameDuration:90,waterDrag:.96,waterDragQuadratic:8e-4,playerAcceleration:800,playerMaxSpeed:200,passSpeed:350,shotSpeed:450,aiReactionTime:150,goalWidth:20,goalHeight:100,colors:Fo,passAccuracyBase:.85,goalkeeperStealChance:.8,staminaSprintThreshold:50,staminaDrainRate:12,staminaRecoveryRate:8,collisionStunDuration:.15,protectionZoneRadius:80};function Wo(){const r=fe({...Oo}),a=()=>({x:r.poolBounds.x+r.poolBounds.width/2,y:r.poolBounds.y+r.poolBounds.height/2});return{config:r,getPoolCenter:a,getGoalPositions:()=>({left:{x:r.poolBounds.x,y:r.poolBounds.y+r.poolBounds.height/2-r.goalHeight/2},right:{x:r.poolBounds.x+r.poolBounds.width-r.goalWidth,y:r.poolBounds.y+r.poolBounds.height/2-r.goalHeight/2}}),getPlayerStartPositions:()=>{const h=a(),v=r.poolBounds.width/4;return{white:{goalkeeper:{x:r.poolBounds.x+60,y:h.y},attacker:{x:h.x-v/2,y:h.y-80},defender:{x:h.x-v/2,y:h.y+80},center:{x:h.x-v,y:h.y}},blue:{goalkeeper:{x:r.poolBounds.x+r.poolBounds.width-60,y:h.y},attacker:{x:h.x+v/2,y:h.y-80},defender:{x:h.x+v/2,y:h.y+80},center:{x:h.x+v,y:h.y}}}}}}const Q={up:!1,down:!1,left:!1,right:!1,pass:!1,shoot:!1,pause:!1,switchPlayer:!1},ae={pass:!1,shoot:!1,pause:!1,switchPlayer:!1},le={isMobile:!1,joystickActive:!1,joystickCenter:{x:0,y:0},joystickCurrent:{x:0,y:0}};function Se(r){switch(["ArrowUp","ArrowDown","ArrowLeft","ArrowRight","Space","KeyQ","KeyW","KeyE","KeyP","Escape"].includes(r.code)&&r.preventDefault(),r.code){case"ArrowUp":Q.up=!0;break;case"ArrowDown":Q.down=!0;break;case"ArrowLeft":Q.left=!0;break;case"ArrowRight":Q.right=!0;break;case"KeyQ":Q.pass=!0,ae.pass=!0;break;case"KeyW":Q.shoot=!0,ae.shoot=!0;break;case"KeyE":Q.switchPlayer=!0,ae.switchPlayer=!0;break;case"Space":case"Escape":case"KeyP":Q.pause=!0,ae.pause=!0;break}}function Me(r){switch(r.code){case"ArrowUp":Q.up=!1;break;case"ArrowDown":Q.down=!1;break;case"ArrowLeft":Q.left=!1;break;case"ArrowRight":Q.right=!1;break;case"KeyQ":Q.pass=!1;break;case"KeyW":Q.shoot=!1;break;case"KeyE":Q.switchPlayer=!1;break;case"Space":case"Escape":case"KeyP":Q.pause=!1;break}}function Pe(r){const a=r.touches[0];a&&a.clientX<window.innerWidth/2&&(le.joystickActive=!0,le.joystickCenter={x:a.clientX,y:a.clientY},le.joystickCurrent={x:a.clientX,y:a.clientY})}function Ce(r){if(le.joystickActive)for(let a=0;a<r.touches.length;a++){const e=r.touches[a];if(e&&e.clientX<window.innerWidth*.6){le.joystickCurrent={x:e.clientX,y:e.clientY};const f=le.joystickCurrent.x-le.joystickCenter.x,h=le.joystickCurrent.y-le.joystickCenter.y,v=15;Q.left=f<-v,Q.right=f>v,Q.up=h<-v,Q.down=h>v}}}function Te(r){let a=!1;for(let e=0;e<r.touches.length;e++){const f=r.touches[e];f&&f.clientX<window.innerWidth*.6&&(a=!0)}a||(le.joystickActive=!1,Q.up=!1,Q.down=!1,Q.left=!1,Q.right=!1)}function we(){typeof window<"u"&&(le.isMobile="ontouchstart"in window||navigator.maxTouchPoints>0||window.innerWidth<768)}function Do(){const r=fe(Q),a=ae,e=fe(le);return{inputState:r,pressedThisFrame:a,touchState:e,resetPressedThisFrame:()=>{ae.pass=!1,ae.shoot=!1,ae.pause=!1,ae.switchPlayer=!1},setupInputListeners:()=>{window.removeEventListener("keydown",Se,!0),window.removeEventListener("keyup",Me,!0),window.removeEventListener("touchstart",Pe),window.removeEventListener("touchmove",Ce),window.removeEventListener("touchend",Te),window.removeEventListener("resize",we),we(),window.addEventListener("keydown",Se,!0),window.addEventListener("keyup",Me,!0),window.addEventListener("touchstart",Pe,{passive:!0}),window.addEventListener("touchmove",Ce,{passive:!0}),window.addEventListener("touchend",Te,{passive:!0}),window.addEventListener("resize",we)},cleanupInputListeners:()=>{window.removeEventListener("keydown",Se,!0),window.removeEventListener("keyup",Me,!0),window.removeEventListener("touchstart",Pe),window.removeEventListener("touchmove",Ce),window.removeEventListener("touchend",Te),window.removeEventListener("resize",we)},triggerPass:()=>{Q.pass=!0,ae.pass=!0,setTimeout(()=>{Q.pass=!1},100)},triggerShoot:()=>{Q.shoot=!0,ae.shoot=!0,setTimeout(()=>{Q.shoot=!1},100)},triggerSwitch:()=>{Q.switchPlayer=!0,ae.switchPlayer=!0,setTimeout(()=>{Q.switchPlayer=!1},100)}}}function Lo(r){let a=0;const e=.4,f=(n,T)=>{const y=n.x-T.x,_=n.y-T.y;return Math.sqrt(y*y+_*_)},h=n=>Math.sqrt(n.x*n.x+n.y*n.y),v=n=>{const T=h(n);return T===0?{x:0,y:0}:{x:n.x/T,y:n.y/T}},k=(n,T=0)=>{const y=r.poolBounds.x+T,_=r.poolBounds.x+r.poolBounds.width-T,V=r.poolBounds.y+T,x=r.poolBounds.y+r.poolBounds.height-T;n.x=Math.max(y,Math.min(_,n.x)),n.y=Math.max(V,Math.min(x,n.y))},$=n=>{if(n.role!=="goalkeeper")return;const T=120,y=r.spriteSize/2;if(n.team==="white"){const _=r.poolBounds.x+y,V=r.poolBounds.x+T;n.position.x=Math.max(_,Math.min(V,n.position.x))}else{const _=r.poolBounds.x+r.poolBounds.width-T,V=r.poolBounds.x+r.poolBounds.width-y;n.position.x=Math.max(_,Math.min(V,n.position.x))}},w=(n,T)=>{for(const y of n.players){const _=h(y.velocity),V=r.waterDragQuadratic*_*_,x=Math.max(.85,r.waterDrag-V);y.velocity.x*=x,y.velocity.y*=x;const W=.7+y.stamina/100*.3,A=y.maxSpeed*W;if(_>A&&(y.velocity.x=y.velocity.x/_*A,y.velocity.y=y.velocity.y/_*A),y.position.x+=y.velocity.x*T,y.position.y+=y.velocity.y*T,k(y.position,r.spriteSize/2),$(y),_>r.staminaSprintThreshold)y.stamina=Math.max(0,y.stamina-r.staminaDrainRate*T);else if(_<30){const l=_<10?1.5:1;y.stamina=Math.min(100,y.stamina+r.staminaRecoveryRate*l*T)}else y.stamina=Math.min(100,y.stamina+r.staminaRecoveryRate*.3*T)}if(n.ball.isInFlight){const _=.995-h(n.ball.velocity)*2e-5;n.ball.velocity.x*=Math.max(.98,_),n.ball.velocity.y*=Math.max(.98,_),n.ball.position.x+=n.ball.velocity.x*T,n.ball.position.y+=n.ball.velocity.y*T,k(n.ball.position,8),h(n.ball.velocity)<10&&(n.ball.isInFlight=!1,n.ball.velocity={x:0,y:0},n.ball.targetPosition=null)}else if(n.ball.holder){const y=n.ball.holder.direction==="left"?-12:n.ball.holder.direction==="right"?12:0,_=n.ball.holder.direction==="up"?-12:n.ball.holder.direction==="down"?12:0;n.ball.position.x=n.ball.holder.position.x+y,n.ball.position.y=n.ball.holder.position.y+_}},u=(n,T,y,_,V)=>n.x>=T&&n.x<=T+_&&n.y>=y&&n.y<=y+V,m=(n,T)=>{let y=!1,_=null;if(a>0&&(a-=T),!n.ball.holder&&!n.ball.isInFlight){let x=null,W=r.spriteSize*1.5;for(const A of n.players){const l=f(A.position,n.ball.position);l<W&&(W=l,x=A)}x&&(n.players.forEach(A=>A.hasBall=!1),x.hasBall=!0,n.ball.holder=x,a=e)}if(n.ball.isInFlight){for(const x of n.players)if(f(x.position,n.ball.position)<r.spriteSize*.9){n.players.forEach(A=>A.hasBall=!1),x.hasBall=!0,n.ball.holder=x,n.ball.isInFlight=!1,n.ball.velocity={x:0,y:0},n.ball.targetPosition=null;break}}for(const x of n.goals)if(u(n.ball.position,x.bounds.x,x.bounds.y,x.bounds.width,x.bounds.height)){_=x.team==="white"?"blue":"white",y=!0;break}const V=n.players.find(x=>x.role==="goalkeeper"&&x.hasBall);if(V){const x=r.protectionZoneRadius;for(const W of n.players){if(W.team===V.team)continue;const A=f(W.position,V.position);if(A<x){const l=v({x:W.position.x-V.position.x,y:W.position.y-V.position.y}),B=(1-A/x)*.2;W.position.x+=l.x*B*x*.1,W.position.y+=l.y*B*x*.1,W.velocity.x+=l.x*B*150,W.velocity.y+=l.y*B*150,W.velocity.x*=.92,W.velocity.y*=.92,k(W.position,r.spriteSize/2)}}}for(let x=0;x<n.players.length;x++)for(let W=x+1;W<n.players.length;W++){const A=n.players[x],l=n.players[W];if(!A||!l)continue;const s=f(A.position,l.position),B=r.spriteSize*.8;if(s<B&&s>0){const E=A.velocity.x-l.velocity.x,Y=A.velocity.y-l.velocity.y,o=h({x:E,y:Y});if(A.team!==l.team&&a<=0){const p=A.hasBall?A:l.hasBall?l:null,g=A.hasBall?l:l.hasBall?A:null;if(p&&g){const b=p.isControlled?.5:1;if(g.role==="goalkeeper"){const R=n.players.filter(O=>O.team!==g.team&&O.role!=="goalkeeper"&&f(O.position,g.position)<60).length*.1,F=Math.max(.4,r.goalkeeperStealChance-R)*b;Math.random()<F&&(p.hasBall=!1,g.hasBall=!0,n.ball.holder=g,n.ball.isInFlight=!1,n.ball.velocity={x:0,y:0},a=e)}else if(p.role!=="goalkeeper"){const R=v({x:g.position.x-p.position.x,y:g.position.y-p.position.y}),F={x:p.direction==="right"?1:p.direction==="left"?-1:0,y:p.direction==="down"?1:p.direction==="up"?-1:0},G=(1-(R.x*F.x+R.y*F.y))*.15,L=h(g.velocity),J=Math.min(.2,L/400),C=(100-p.stamina)/500,M=(.15+G+J+C)*b;Math.random()<M&&(p.hasBall=!1,g.hasBall=!0,n.ball.holder=g,n.ball.isInFlight=!1,n.ball.velocity={x:0,y:0},a=e)}}}const i=B-s,d=v({x:A.position.x-l.position.x,y:A.position.y-l.position.y});if(A.position.x+=d.x*i*.5,A.position.y+=d.y*i*.5,l.position.x-=d.x*i*.5,l.position.y-=d.y*i*.5,o>30){const p=Math.min(.5,o/200);A.velocity.x+=d.x*o*p*.3,A.velocity.y+=d.y*o*p*.3,l.velocity.x-=d.x*o*p*.3,l.velocity.y-=d.y*o*p*.3}k(A.position,r.spriteSize/2),k(l.position,r.spriteSize/2)}}return{goalScored:y,scoringTeam:_}},P=(n,T,y)=>{let _=r.passAccuracyBase;const V=f(n.position,T.position),x=Math.min(.2,V/1500);_-=x;const W=(100-n.stamina)/500;_-=W;const l=y.players.filter(s=>s.team!==n.team&&f(s.position,n.position)<50).length*.08;return _-=l,Math.max(.4,Math.min(1,_))},D=(n,T,y)=>{if(!T.hasBall)return;const _=f(T.position,y.position);if(_<50){T.hasBall=!1,y.hasBall=!0,n.ball.holder=y,n.ball.isInFlight=!1,n.ball.velocity={x:0,y:0},n.ball.targetPosition=null;return}T.hasBall=!1,n.ball.holder=null,n.ball.isInFlight=!0;const x=(1-P(T,y,n))*60,W=(Math.random()-.5)*x,A=(Math.random()-.5)*x,l={x:y.position.x+W,y:y.position.y+A};n.ball.targetPosition=l;const s=v({x:l.x-T.position.x,y:l.y-T.position.y}),B=.85+T.stamina/100*.15,E=150*B,Y=Math.min(1,_/200),o=E+(r.passSpeed*B-E)*Y;n.ball.velocity={x:s.x*o,y:s.y*o}},U=(n,T)=>{let y=.75;const _=(100-n.stamina)/400;y-=_;const V=n.team==="white"?r.poolBounds.x+r.poolBounds.width:r.poolBounds.x,x=Math.abs(n.position.x-V),W=Math.min(.2,x/2e3);y-=W;const l=T.players.filter(s=>s.team!==n.team&&f(s.position,n.position)<60).length*.1;return y-=l,Math.max(.3,Math.min(.9,y))};return{distance:f,magnitude:h,normalize:v,clampToPoolBounds:k,applyWaterPhysics:w,checkCollisions:m,passBall:D,shootBall:(n,T,y)=>{if(!T.hasBall)return;T.hasBall=!1,n.ball.holder=null,n.ball.isInFlight=!0;const _={x:y.position.x+y.width/2,y:y.position.y+y.height/2},V=U(T,n),x=y.height*(1-V),W=(Math.random()-.5)*x;_.y+=W,n.ball.targetPosition=_;const A=v({x:_.x-T.position.x,y:_.y-T.position.y}),l=.8+T.stamina/100*.2,s=r.shotSpeed*l;n.ball.velocity={x:A.x*s,y:A.y*s}}}}const jo={white:{speedMultiplier:1,reactionSpeed:1,decisionQuality:.85,interceptSkill:1,positioningSkill:.9,pressureAwareness:.8},blue:{speedMultiplier:1,reactionSpeed:1,decisionQuality:.85,interceptSkill:1,positioningSkill:.9,pressureAwareness:.8}},Vo={attacker:{xOffset:.3,yOffset:-.25},defender:{xOffset:.1,yOffset:.25},center:{xOffset:.25,yOffset:0},goalkeeper:{xOffset:-.35,yOffset:0}},Go={attacker:{xOffset:-.1,yOffset:-.2},defender:{xOffset:-.25,yOffset:.2},center:{xOffset:-.15,yOffset:0},goalkeeper:{xOffset:-.4,yOffset:0}},ie={shoot:{clearPath:.4,stamina:.15,goaliePosition:.15},pass:{teammateOpenness:.35,advancePosition:.25,safeDistance:.25,pressureRelief:.15},hold:{noDefenders:.4,advancingToGoal:.3,teamNotReady:.3}};function Ho(r){const a=o=>jo[o],e=(o,i)=>{const d=o.x-i.x,p=o.y-i.y;return Math.sqrt(d*d+p*p)},f=o=>Math.sqrt(o.x*o.x+o.y*o.y),h=o=>{const i=Math.sqrt(o.x*o.x+o.y*o.y);return i===0?{x:0,y:0}:{x:o.x/i,y:o.y/i}},v=(o,i,d)=>({x:o.x+(i.x-o.x)*d,y:o.y+(i.y-o.y)*d}),k=(o,i)=>o.x*i.x+o.y*i.y,$=(o,i)=>o.ball.isInFlight?{x:o.ball.position.x+o.ball.velocity.x*i,y:o.ball.position.y+o.ball.velocity.y*i}:o.ball.position,w=(o,i)=>i.players.filter(d=>d.team===o.team&&d.id!==o.id),u=(o,i)=>i.players.filter(d=>d.team!==o.team),m=(o,i)=>i.goals.find(d=>d.team===o.team),P=(o,i)=>i.goals.find(d=>d.team!==o.team),D=(o,i)=>{const d=u(o,i);let p=0;for(const g of d){const b=e(o.position,g.position);if(b<100){p+=(100-b)/100;const S=h({x:o.position.x-g.position.x,y:o.position.y-g.position.y}),R=h(g.velocity);k(S,R)>.5&&(p+=.3)}}return Math.min(1,p)},U=(o,i,d,p=30)=>{const g=h({x:i.x-o.x,y:i.y-o.y}),b=e(o,i);for(const S of d){const R={x:S.position.x-o.x,y:S.position.y-o.y},F=k(R,g);if(F>0&&F<b){const O={x:o.x+g.x*F,y:o.y+g.y*F};if(e(O,S.position)<p)return!1}}return!0},N=(o,i)=>{const g=(i.players.some(G=>G.team===o.team&&G.hasBall)?Vo:Go)[o.role]||{xOffset:0,yOffset:0},b=r.poolBounds.x+r.poolBounds.width/2,S=r.poolBounds.y+r.poolBounds.height/2,R=r.poolBounds.width/2-60,F=r.poolBounds.height/2-40,O=o.team==="white"?1:-1;return{x:b+g.xOffset*R*O,y:S+g.yOffset*F}},n=(o,i)=>{const d=w(o,i);if(d.length===0)return null;let p=null,g=1/0;for(const b of d){const S=e(b.position,i.ball.position);S<g&&(g=S,p=b)}return p},T=(o,i,d)=>{const p=u(o,d),g=P(o,d),b={x:g.position.x,y:g.position.y+g.height/2};let S=50,R=1/0;for(const C of p){const M=e(i.position,C.position);M<R&&(R=M)}const F=Math.min(40,R/3);S+=F*ie.pass.teammateOpenness;const O=e(o.position,b);e(i.position,b)<O&&(S+=30*ie.pass.advancePosition),U(o.position,i.position,p,25)?S+=35*ie.pass.safeDistance:S-=20;const L=D(o,d),J=D(i,d);return L>.5&&J<.3&&(S+=25*ie.pass.pressureRelief),Math.max(0,Math.min(100,S))},y=(o,i)=>{const d=P(o,i),p={x:d.position.x,y:d.position.y+d.height/2},g=u(o,i);let b=30;const S=e(o.position,p),R=300,F=Math.max(0,(R-S)/R)*40;b+=F*1.3;const O=g.find(L=>L.role==="goalkeeper"),G=g.filter(L=>L.role!=="goalkeeper");return U(o.position,p,G,20)?b+=30*ie.shoot.clearPath:b-=25,b+=o.stamina/100*15*ie.shoot.stamina,O&&e(O.position,p)>50&&(b+=20*ie.shoot.goaliePosition),S<150&&(b+=15),Math.max(0,Math.min(100,b))},_=(o,i)=>{const d=P(o,i),p={x:d.position.x,y:d.position.y+d.height/2};let g=40;const b=D(o,i);b<.3?g+=30*ie.hold.noDefenders:g-=b*40;const S=h({x:p.x-o.position.x,y:p.y-o.position.y}),R=h(o.velocity);k(S,R)>.5&&(g+=25*ie.hold.advancingToGoal);const O=w(o,i).filter(L=>L.role!=="goalkeeper");let G=0;for(const L of O){const J=N(L,i);e(L.position,J)<60&&G++}return G<O.length*.5&&(g+=20*ie.hold.teamNotReady),Math.max(0,Math.min(100,g))},V=(o,i)=>{const d=w(o,i).filter(b=>b.role!=="goalkeeper");let p=null,g=30;for(const b of d){const S=T(o,b,i);S>g&&(g=S,p=b)}return p},x=(o,i)=>{let d=w(o,i).filter(O=>O.role!=="goalkeeper");if(d.length===0&&(d=w(o,i)),d.length===0)return null;let p=0,g=0;switch(o.direction){case"right":p=1;break;case"left":p=-1;break;case"up":g=-1;break;case"down":g=1;break}let b=null,S=-1/0,R=null,F=1/0;for(const O of d){const G={x:O.position.x-o.position.x,y:O.position.y-o.position.y},L=Math.sqrt(G.x*G.x+G.y*G.y);if(L<F&&(F=L,R=O),L<1)continue;const J={x:G.x/L,y:G.y/L},M=(J.x*p+J.y*g)*100+1e3/(L+50);M>S&&(S=M,b=O)}return b||R},W=(o,i)=>{const d=i.players.some(b=>b.team===o.team&&b.hasBall),p=i.players.some(b=>b.team!==o.team&&b.hasBall),g=o.hasBall;if(o.role==="goalkeeper")return"goalkeeper";if(!i.ball.holder&&!i.ball.isInFlight){const b=e(o.position,i.ball.position),S=n(o,i);return!S||b<e(S.position,i.ball.position)?"chase_ball":d?"support":"defend"}return g?"attack":d?"support":p||i.ball.isInFlight?o.role==="defender"?"intercept":"defend":"return_position"},A=(o,i,d,p=1)=>{const g={x:i.x-o.position.x,y:i.y-o.position.y};if(Math.sqrt(g.x*g.x+g.y*g.y)<5)return;const S=a(o.team),R=h(g),F=r.playerAcceleration*p*S.speedMultiplier;o.velocity.x+=R.x*F*d,o.velocity.y+=R.y*F*d,Math.abs(R.x)>Math.abs(R.y)?o.direction=R.x>0?"right":"left":o.direction=R.y>0?"down":"up",o.animationState="swim"},l=(o,i,d)=>{const p=m(o,i),g=p.position.y+p.height/2,b=a(o.team);let S=g,R=o.homePosition.x;const O=u(o,i).filter(L=>(o.team==="white"?L.position.x<r.poolBounds.x+r.poolBounds.width/2:L.position.x>r.poolBounds.x+r.poolBounds.width/2)&&L.role!=="goalkeeper");if(i.ball.holder&&i.ball.holder.team!==o.team){const L=i.ball.holder,J=e(L.position,{x:p.position.x,y:g});if((o.team==="white"?L.direction==="left":L.direction==="right")&&J<250){const M={x:p.position.x-L.position.x,y:g-L.position.y};if(S=g+M.y*.4,O.length<=1){const j=Math.min(30,J*.1);R=o.team==="white"?o.homePosition.x+j:o.homePosition.x-j}}else S=i.ball.position.y}else if(i.ball.isInFlight){const L=o.team==="white"?(p.position.x-i.ball.position.x)/(i.ball.velocity.x||1):(p.position.x-i.ball.position.x)/(i.ball.velocity.x||-1);L>0&&L<2&&(S=$(i,Math.min(.5,L)).y)}S=Math.max(p.position.y+15,Math.min(p.position.y+p.height-15,S)),O.length>=2&&(R=o.homePosition.x),A(o,{x:R,y:S},d,1.3*b.speedMultiplier)},s=(o,i,d)=>{const p=o.aiState,g=a(o.team);switch(p){case"goalkeeper":l(o,i,d);break;case"chase_ball":{const b=.3*g.reactionSpeed,S=i.ball.isInFlight?$(i,b):i.ball.position;A(o,S,d,1.1);break}case"attack":{const b=P(o,i),S={x:b.position.x+b.width/2,y:b.position.y+b.height/2};if(D(o,i)>.6){const F=u(o,i);let O={x:0,y:0},G=0;const L=[{x:1,y:0},{x:-1,y:0},{x:0,y:1},{x:0,y:-1},{x:.7,y:.7},{x:.7,y:-.7},{x:-.7,y:.7},{x:-.7,y:-.7}];for(const C of L){const M={x:o.position.x+C.x*50,y:o.position.y+C.y*50};let H=1/0;for(const j of F){const X=e(M,j.position);X<H&&(H=X)}H>G&&(G=H,O=C)}const J={x:o.position.x+O.x*80,y:o.position.y+O.y*80};A(o,J,d,1)}else{const F=g.decisionQuality*.5,O=v(o.position,S,F);A(o,O,d,1)}break}case"defend":{const b=m(o,i),S={x:b.position.x+b.width/2,y:b.position.y+b.height/2},R=u(o,i).filter(G=>G.role!=="goalkeeper");let F=null,O=1/0;for(const G of R){const L=e(G.position,i.ball.position),J=e(G.position,S),C=L+J*.5;C<O&&(O=C,F=G)}if(F){const G=v(F.position,S,.3);A(o,G,d,1)}else{const G=N(o,i);A(o,G,d,.8)}break}case"support":{const b=i.players.find(R=>R.hasBall),S=P(o,i);if(b&&b.id!==o.id){const R=h({x:S.position.x-b.position.x,y:S.position.y+S.height/2-b.position.y}),F=o.role==="attacker"?60:o.role==="center"?0:-60,O={x:b.position.x+R.x*100+-R.y*F,y:b.position.y+R.y*100+R.x*F};O.x=Math.max(r.poolBounds.x+50,Math.min(r.poolBounds.x+r.poolBounds.width-50,O.x)),O.y=Math.max(r.poolBounds.y+50,Math.min(r.poolBounds.y+r.poolBounds.height-50,O.y)),A(o,O,d,.9)}else{const R=N(o,i);A(o,R,d,.8)}break}case"intercept":{if(i.ball.isInFlight&&i.ball.targetPosition){const b=f(i.ball.velocity),S=e(i.ball.position,i.ball.targetPosition)/(b||1),R=Math.min(.5,S*.6),F=$(i,R);e(o.position,F)/(o.maxSpeed*.8)<S*1.2?A(o,F,d,1.3):A(o,i.ball.targetPosition,d,1.1)}else i.ball.holder&&A(o,i.ball.holder.position,d,1.1);break}default:{const b=N(o,i);A(o,b,d,.7);break}}};return{updateAI:(o,i)=>{for(const d of o.players)d.isControlled||(d.aiState=W(d,o),s(d,o,i))},shouldAIPass:(o,i)=>{if(!o.hasBall||o.isControlled)return null;const d=a(o.team);if(o.role==="goalkeeper"){const H=V(o,i);if(H)return H;const j=w(o,i).filter(X=>X.role!=="goalkeeper");if(j.length>0){let X=j[0]??null,ce=0;for(const re of j){const ve=T(o,re,i);ve>ce&&(ce=ve,X=re)}return X}return null}const p=y(o,i),g=_(o,i),b=w(o,i).filter(H=>H.role!=="goalkeeper");let S=0,R=null;for(const H of b){const j=T(o,H,i);j>S&&(S=j,R=H)}const F=(1-d.decisionQuality)*20,O=p+(Math.random()-.5)*F,G=S+(Math.random()-.5)*F,L=g+(Math.random()-.5)*F,J=55,M=D(o,i)*25;return G+M>L&&G>J&&(G>O||p<60)?R:null},shouldAIShoot:(o,i)=>{if(!o.hasBall||o.isControlled||o.role==="goalkeeper")return null;const d=a(o.team),p=y(o,i),g=_(o,i),b=w(o,i).filter(L=>L.role!=="goalkeeper");let S=0;for(const L of b){const J=T(o,L,i);J>S&&(S=J)}const R=(1-d.decisionQuality)*15,F=p+(Math.random()-.5)*R;return F>60&&F>S&&F>g||D(o,i)>.7&&p>40?P(o,i):null},findOpenTeammate:V,findTeammateInDirection:x,getEnemyGoal:P,getOwnGoal:m,distance:e,calculatePressure:D,evaluatePassOption:T,evaluateShotOpportunity:y}}function zo(r,a){const e=Z(()=>r.value?.getContext("2d"));let f=0,h=null,v=!1;typeof window<"u"&&(h=new Image,h.onload=()=>{v=!0},h.src="/images/logo.png");const k=[],$=30,w=(l,s,B=1)=>{k.length>=$&&k.shift(),k.push({x:l,y:s,radius:5,maxRadius:20+B*15,alpha:.4*B})},u=()=>{for(let l=k.length-1;l>=0;l--){const s=k[l];s&&(s.radius+=1.5,s.alpha-=.02,(s.alpha<=0||s.radius>=s.maxRadius)&&k.splice(l,1))}},m=()=>{if(e.value)for(const l of k)e.value.strokeStyle=`rgba(255, 255, 255, ${l.alpha})`,e.value.lineWidth=2,e.value.beginPath(),e.value.arc(l.x,l.y,l.radius,0,Math.PI*2),e.value.stroke()},P=l=>{if(!e.value)return;const{poolBounds:s,colors:B}=a,E=e.value.createLinearGradient(s.x,s.y,s.x,s.y+s.height);E.addColorStop(0,B.water),E.addColorStop(.5,B.waterLight),E.addColorStop(1,B.water),e.value.fillStyle=E,e.value.fillRect(s.x,s.y,s.width,s.height),e.value.fillStyle=B.waterLight,e.value.globalAlpha=.15;for(let o=s.y;o<s.y+s.height;o+=12){const i=Math.sin(o*.05+l*2)*8,d=30+Math.sin(o*.03+l*1.5)*10;for(let p=s.x-20;p<s.x+s.width+20;p+=60){const g=p+i+Math.sin(l*3+p*.02)*5;g>s.x&&g+d<s.x+s.width&&e.value.fillRect(g,o,d,3)}}e.value.globalAlpha=.08;for(let o=s.x;o<s.x+s.width;o+=40){const i=Math.sin(o*.04+l*1.8)*6;for(let d=s.y;d<s.y+s.height;d+=50){const p=i+Math.cos(l*2+d*.03)*4;e.value.fillRect(o,d+p,4,20)}}e.value.fillStyle="#FFFFFF",e.value.globalAlpha=.2;for(let o=0;o<15;o++){const i=s.x+50+o*47%s.width,d=s.y+30+o*31%s.height,p=Math.sin(l*4+o*1.7);if(p>.7){const g=(p-.7)*10;e.value.fillRect(i,d,g,2),e.value.fillRect(i+g/2-1,d-g/2+1,2,g)}}if(e.value.globalAlpha=1,v&&h&&e.value){const i=h.height/h.width*180,d=s.x+s.width/2-180/2,p=s.y+s.height/2-i/2;e.value.save();const g=Math.sin(l*1.5)*3,b=Math.cos(l*1.2)*2;e.value.globalAlpha=.25,e.value.imageSmoothingEnabled=!1,e.value.drawImage(h,d+g,p+b,180,i),e.value.globalAlpha=.1,e.value.drawImage(h,d+g*1.5+2,p+b*1.5+2,180,i),e.value.restore()}e.value.fillStyle=B.laneLines,e.value.globalAlpha=.25;const Y=s.height/4;for(let o=1;o<4;o++){const i=s.y+Y*o;for(let d=s.x+50;d<s.x+s.width-50;d+=4){const p=Math.sin(d*.03+l*2)*1.5;e.value.fillRect(d,i+p-1,4,2)}}e.value.globalAlpha=1,e.value.fillStyle=B.poolEdge,e.value.fillRect(s.x-8,s.y-8,s.width+16,8),e.value.fillRect(s.x-8,s.y+s.height,s.width+16,8),e.value.fillRect(s.x-8,s.y-8,8,s.height+16),e.value.fillRect(s.x+s.width,s.y-8,8,s.height+16)},D=l=>{if(!e.value)return;const{colors:s}=a,B=l.team==="white";e.value.fillStyle=s.goalFrame,B?(e.value.fillRect(l.position.x-4,l.position.y-4,8,l.height+8),e.value.fillRect(l.position.x-4,l.position.y-4,24,4),e.value.fillRect(l.position.x-4,l.position.y+l.height,24,4)):(e.value.fillRect(l.position.x+l.width-4,l.position.y-4,8,l.height+8),e.value.fillRect(l.position.x+l.width-20,l.position.y-4,24,4),e.value.fillRect(l.position.x+l.width-20,l.position.y+l.height,24,4)),e.value.fillStyle=s.goalNet,e.value.globalAlpha=.5;for(let E=l.position.y;E<l.position.y+l.height;E+=8)for(let Y=l.position.x;Y<l.position.x+l.width;Y+=8)e.value.fillRect(Y,E,1,1);e.value.globalAlpha=1},U=l=>{if(!e.value)return;const s=Math.sqrt(l.velocity.x**2+l.velocity.y**2);if(s>30){const B=Math.min(s/150,1),E=l.position.x-l.velocity.x/s*15,Y=l.position.y-l.velocity.y/s*15;Math.random()<.3&&w(E+(Math.random()-.5)*10,Y+(Math.random()-.5)*10,B),e.value.fillStyle="rgba(255, 255, 255, 0.3)";const o=4+B*6;for(let i=0;i<3;i++){const d=(Math.random()-.5)*15-l.velocity.x/s*10,p=(Math.random()-.5)*15-l.velocity.y/s*10;e.value.fillRect(l.position.x+d,l.position.y+p,o*Math.random(),2)}}},N=l=>{if(!e.value)return;const{colors:s,spriteSize:B}=a,E=Math.floor(l.position.x-B/2),Y=Math.floor(l.position.y-B/2);U(l);const o=l.team==="white"?s.whiteTeamBody:s.blueTeamBody,i=l.team==="white"?s.whiteTeamCap:s.blueTeamCap;e.value.strokeStyle="rgba(255, 255, 255, 0.2)",e.value.lineWidth=2,e.value.beginPath(),e.value.ellipse(E+B/2,Y+B-2,14,7,0,0,Math.PI*2),e.value.stroke(),e.value.fillStyle="rgba(0, 0, 0, 0.2)",e.value.beginPath(),e.value.ellipse(E+B/2,Y+B-4,12,6,0,0,Math.PI*2),e.value.fill(),e.value.fillStyle=o,e.value.fillRect(E+8,Y+10,16,14);const d=l.animationState==="swim"?Math.sin(l.frameTimer*10)*4:0;e.value.fillRect(E+4,Y+12+d,6,4),e.value.fillRect(E+22,Y+12-d,6,4),e.value.fillStyle=i,e.value.fillRect(E+10,Y+4,12,10),e.value.fillStyle=l.team==="white"?"#E0E0B0":"#104060",e.value.fillRect(E+10,Y+8,12,2),e.value.fillStyle="#333333";let p=E+14,g=Y+10;switch(l.direction){case"up":g=Y+6;break;case"down":g=Y+12;break;case"left":p=E+11;break;case"right":p=E+17;break}if(e.value.fillRect(p,g,2,2),e.value.fillRect(p+4,g,2,2),l.isControlled&&(e.value.strokeStyle="#FFD700",e.value.lineWidth=2,e.value.beginPath(),e.value.arc(E+B/2,Y+B/2,B/2+4,0,Math.PI*2),e.value.stroke(),e.value.fillStyle="#FFD700",e.value.beginPath(),e.value.moveTo(E+B/2,Y-8),e.value.lineTo(E+B/2-6,Y-16),e.value.lineTo(E+B/2+6,Y-16),e.value.closePath(),e.value.fill()),l.hasBall&&(e.value.fillStyle=s.ball,e.value.beginPath(),e.value.arc(E+B/2,Y-4,3,0,Math.PI*2),e.value.fill()),l.stamina<70||l.isControlled){const R=E+(B-24)/2,F=Y+B+4;e.value.fillStyle="rgba(0, 0, 0, 0.5)",e.value.fillRect(R-1,F-1,26,5);let O="#4ADE80";l.stamina<30?O="#EF4444":l.stamina<50&&(O="#F59E0B");const G=l.stamina/100*24;e.value.fillStyle=O,e.value.fillRect(R,F,G,3)}},n=l=>{if(!e.value)return;const{colors:s}=a,B=Math.floor(l.position.x),E=Math.floor(l.position.y);l.isInFlight&&Math.sqrt(l.velocity.x**2+l.velocity.y**2)>50&&Math.random()<.2&&w(B,E,.5),e.value.strokeStyle="rgba(255, 255, 255, 0.25)",e.value.lineWidth=1.5,e.value.beginPath(),e.value.ellipse(B,E+3,9,4,0,0,Math.PI*2),e.value.stroke(),e.value.fillStyle="rgba(0, 0, 0, 0.2)",e.value.beginPath(),e.value.ellipse(B,E+4,6,3,0,0,Math.PI*2),e.value.fill(),e.value.fillStyle=s.ball,e.value.beginPath(),e.value.arc(B,E,8,0,Math.PI*2),e.value.fill(),e.value.fillStyle="#FFFFFF",e.value.globalAlpha=.5,e.value.beginPath(),e.value.arc(B-2,E-2,3,0,Math.PI*2),e.value.fill(),e.value.globalAlpha=1,e.value.strokeStyle="#FFFFFF",e.value.lineWidth=1,e.value.globalAlpha=.3,e.value.beginPath(),e.value.moveTo(B-6,E),e.value.lineTo(B+6,E),e.value.stroke(),e.value.beginPath(),e.value.moveTo(B,E-6),e.value.lineTo(B,E+6),e.value.stroke(),e.value.globalAlpha=1},T=l=>{if(!e.value)return;const s=l.players.find(B=>B.role==="goalkeeper"&&B.hasBall);if(s){const E=f*3%(Math.PI*2),Y=.15+Math.sin(E)*.05;e.value.strokeStyle=`rgba(255, 255, 255, ${Y})`,e.value.lineWidth=2,e.value.setLineDash([8,4]),e.value.beginPath(),e.value.arc(s.position.x,s.position.y,80,0,Math.PI*2),e.value.stroke(),e.value.fillStyle=`rgba(255, 255, 255, ${Y*.3})`,e.value.beginPath(),e.value.arc(s.position.x,s.position.y,80,0,Math.PI*2),e.value.fill(),e.value.setLineDash([])}},y=l=>{if(!e.value)return;e.value.fillStyle="rgba(0, 0, 0, 0.7)",e.value.fillRect(a.canvasWidth/2-80,4,160,32),e.value.fillStyle="#FCFBD9",e.value.font='bold 20px "Press Start 2P", monospace',e.value.textAlign="center",e.value.fillText(`${l.score.white} - ${l.score.blue}`,a.canvasWidth/2,28),e.value.font='10px "Press Start 2P", monospace',e.value.fillStyle=a.colors.whiteTeamCap,e.value.textAlign="right",e.value.fillText("WHT",a.canvasWidth/2-50,28),e.value.fillStyle=a.colors.blueTeamCap,e.value.textAlign="left",e.value.fillText("BLU",a.canvasWidth/2+50,28);const s=Math.floor(l.time/60),B=Math.floor(l.time%60),E=`${s}:${B.toString().padStart(2,"0")}`;e.value.fillStyle="rgba(0, 0, 0, 0.7)",e.value.fillRect(a.canvasWidth-70,4,66,24),e.value.fillStyle=l.time<=30?"#FE6E81":"#FCFBD9",e.value.font='12px "Press Start 2P", monospace',e.value.textAlign="center",e.value.fillText(E,a.canvasWidth-37,22)},_=l=>{e.value&&(e.value.fillStyle="rgba(0, 0, 0, 0.5)",e.value.fillRect(0,0,a.canvasWidth,a.canvasHeight),e.value.fillStyle="#FCFBD9",e.value.font='bold 72px "Press Start 2P", monospace',e.value.textAlign="center",e.value.textBaseline="middle",e.value.fillText(l>0?l.toString():"GO!",a.canvasWidth/2,a.canvasHeight/2))},V=l=>{if(!e.value)return;e.value.fillStyle="rgba(0, 0, 0, 0.6)",e.value.fillRect(0,0,a.canvasWidth,a.canvasHeight);const s=l==="white"?a.colors.whiteTeamCap:a.colors.blueTeamCap;e.value.fillStyle=s,e.value.font='bold 48px "Press Start 2P", monospace',e.value.textAlign="center",e.value.textBaseline="middle",e.value.fillText("GOAL!",a.canvasWidth/2,a.canvasHeight/2),e.value.fillStyle="#FCFBD9",e.value.font='16px "Press Start 2P", monospace',e.value.fillText(`${l.toUpperCase()} TEAM SCORES!`,a.canvasWidth/2,a.canvasHeight/2+50)},x=l=>{if(!e.value)return;e.value.fillStyle="rgba(0, 0, 0, 0.8)",e.value.fillRect(0,0,a.canvasWidth,a.canvasHeight),e.value.fillStyle="#FCFBD9",e.value.font='bold 36px "Press Start 2P", monospace',e.value.textAlign="center",e.value.textBaseline="middle",e.value.fillText("GAME OVER",a.canvasWidth/2,a.canvasHeight/2-60),e.value.font='bold 48px "Press Start 2P", monospace',e.value.fillText(`${l.score.white} - ${l.score.blue}`,a.canvasWidth/2,a.canvasHeight/2);let s="DRAW!";l.score.white>l.score.blue?(s="WHITE WINS!",e.value.fillStyle=a.colors.whiteTeamCap):l.score.blue>l.score.white&&(s="BLUE WINS!",e.value.fillStyle=a.colors.blueTeamCap),e.value.font='20px "Press Start 2P", monospace',e.value.fillText(s,a.canvasWidth/2,a.canvasHeight/2+60),e.value.fillStyle="#70BECF",e.value.font='12px "Press Start 2P", monospace',e.value.fillText("PRESS SPACE TO PLAY AGAIN",a.canvasWidth/2,a.canvasHeight/2+110)},W=()=>{e.value&&(e.value.fillStyle="rgba(0, 0, 0, 0.6)",e.value.fillRect(0,0,a.canvasWidth,a.canvasHeight),e.value.fillStyle="#FCFBD9",e.value.font='bold 36px "Press Start 2P", monospace',e.value.textAlign="center",e.value.textBaseline="middle",e.value.fillText("PAUSED",a.canvasWidth/2,a.canvasHeight/2),e.value.fillStyle="#70BECF",e.value.font='12px "Press Start 2P", monospace',e.value.fillText("PRESS ESC TO RESUME",a.canvasWidth/2,a.canvasHeight/2+50))};return{render:l=>{if(!e.value||!r.value)return;f+=.016,u(),e.value.fillStyle="#0E2433",e.value.fillRect(0,0,a.canvasWidth,a.canvasHeight),P(f),m();for(const B of l.goals)D(B);T(l);const s=[...l.players].sort((B,E)=>B.position.y-E.position.y);l.ball.holder||n(l.ball);for(const B of s)N(B),B.hasBall&&n(l.ball);switch(y(l),l.phase){case"countdown":_(l.countdownValue);break;case"goal_scored":l.lastGoalTeam&&V(l.lastGoalTeam);break;case"paused":W();break;case"game_over":x(l);break}},drawCountdown:_,drawGoalScored:V,drawGameOver:x,drawPaused:W}}function qo(){const r=fe({whistle:null,splash:null,goal:null}),a=ee(!1),e=ee(!1),f=()=>{if(!(typeof window>"u"))try{r.whistle=new Audio("/sounds/whistle.mp3"),r.whistle.volume=.5,r.splash=new Audio("/sounds/splash.mp3"),r.splash.volume=.3,r.goal=new Audio("/sounds/goal.mp3"),r.goal.volume=.6,a.value=!0}catch(m){console.warn("Could not load game audio:",m)}},h=m=>{if(!(e.value||!r[m]))try{const P=r[m];P.currentTime=0,P.play().catch(()=>{})}catch{}};return{isLoaded:a,isMuted:e,loadAudio:f,playWhistle:()=>h("whistle"),playSplash:()=>h("splash"),playGoal:()=>h("goal"),toggleMute:()=>{e.value=!e.value},cleanup:()=>{r.whistle&&r.whistle.pause(),r.splash&&r.splash.pause(),r.goal&&r.goal.pause()}}}const Ee=globalThis.setInterval;function No(r){const{config:a,getPoolCenter:e,getGoalPositions:f,getPlayerStartPositions:h}=Wo(),{inputState:v,pressedThisFrame:k,touchState:$,resetPressedThisFrame:w,setupInputListeners:u,cleanupInputListeners:m,triggerPass:P,triggerShoot:D,triggerSwitch:U}=Do(),N=Lo(a),n=Ho(a),T=zo(r,a),y=qo();let _=null,V=0;const x=(C,M,H,j,X=!1)=>({id:C,position:{...j},velocity:{x:0,y:0},team:M,role:H,isControlled:X,hasBall:!1,stamina:100,maxSpeed:a.playerMaxSpeed,direction:M==="white"?"right":"left",aiState:"idle",targetPosition:null,homePosition:{...j},animationState:"idle",frameIndex:0,frameTimer:0}),W=()=>({position:{...e()},velocity:{x:0,y:0},holder:null,isInFlight:!1,targetPosition:null,frameIndex:0,frameTimer:0}),A=()=>{const C=f();return[{team:"white",position:C.left,width:a.goalWidth,height:a.goalHeight,bounds:{x:C.left.x-10,y:C.left.y,width:a.goalWidth+10,height:a.goalHeight}},{team:"blue",position:C.right,width:a.goalWidth,height:a.goalHeight,bounds:{x:C.right.x,y:C.right.y,width:a.goalWidth+10,height:a.goalHeight}}]},l=()=>{const C=h();return[x("white-gk","white","goalkeeper",C.white.goalkeeper),x("white-att","white","attacker",C.white.attacker,!0),x("white-def","white","defender",C.white.defender),x("white-cen","white","center",C.white.center),x("blue-gk","blue","goalkeeper",C.blue.goalkeeper),x("blue-att","blue","attacker",C.blue.attacker),x("blue-def","blue","defender",C.blue.defender),x("blue-cen","blue","center",C.blue.center)]},s=fe({phase:"menu",score:{white:0,blue:0},time:a.gameDuration,players:l(),ball:W(),goals:A(),controlledPlayerId:"white-att",lastGoalTeam:null,countdownValue:3}),B=()=>s.players.find(C=>C.id===s.controlledPlayerId),E=()=>{const C=s.players.filter(X=>X.team==="white"&&X.role!=="goalkeeper"),H=(C.findIndex(X=>X.id===s.controlledPlayerId)+1)%C.length;for(const X of s.players)X.isControlled=!1;const j=C[H];j&&(j.isControlled=!0,s.controlledPlayerId=j.id)},Y=()=>{const C=s.players.find(M=>M.team==="white"&&M.hasBall&&M.role!=="goalkeeper");if(C&&C.id!==s.controlledPlayerId){for(const M of s.players)M.isControlled=!1;C.isControlled=!0,s.controlledPlayerId=C.id}},o=()=>{const C=h(),M=e();for(const j of s.players){j.velocity={x:0,y:0},j.hasBall=!1,j.animationState="idle",j.isControlled=!1;const X=C[j.team];j.position={...X[j.role]},j.homePosition={...X[j.role]},j.direction=j.team==="white"?"right":"left"}const H=s.players.find(j=>j.id==="white-att");H&&(H.isControlled=!0,s.controlledPlayerId="white-att"),s.ball.position={...M},s.ball.velocity={x:0,y:0},s.ball.holder=null,s.ball.isInFlight=!1,s.ball.targetPosition=null},i=C=>{const M=B();if(!M)return;let H=0,j=0;if(v.up&&(j-=1),v.down&&(j+=1),v.left&&(H-=1),v.right&&(H+=1),H!==0||j!==0){const X=Math.sqrt(H*H+j*j);H/=X,j/=X;const ce=.5+M.stamina/100*.5;M.velocity.x+=H*a.playerAcceleration*ce*C,M.velocity.y+=j*a.playerAcceleration*ce*C,Math.abs(H)>Math.abs(j)?M.direction=H>0?"right":"left":M.direction=j>0?"down":"up",M.animationState="swim"}else M.animationState="idle";if(k.pass&&M.hasBall){let X=n.findTeammateInDirection(M,s);if(X||(X=n.findOpenTeammate(M,s)),!X){const ce=s.players.filter(re=>re.team===M.team&&re.id!==M.id&&re.role!=="goalkeeper");if(ce.length>0){let re=1/0;for(const ve of ce){const Re=n.distance(M.position,ve.position);Re<re&&(re=Re,X=ve)}}}X&&(N.passBall(s,M,X),y.playSplash())}if(k.shoot&&M.hasBall){const X=n.getEnemyGoal(M,s);N.shootBall(s,M,X),y.playSplash()}},d=C=>{for(const M of s.players)M.frameTimer+=C,M.frameTimer>.15&&(M.frameTimer=0,M.frameIndex=(M.frameIndex+1)%4);s.ball.frameTimer+=C,s.ball.frameTimer>.1&&(s.ball.frameTimer=0,s.ball.frameIndex=(s.ball.frameIndex+1)%4)},p=()=>{for(const C of s.players){if(C.isControlled)continue;const M=n.shouldAIPass(C,s);if(M){N.passBall(s,C,M),y.playSplash();continue}const H=n.shouldAIShoot(C,s);H&&(N.shootBall(s,C,H),y.playSplash())}},g=C=>{try{s.score[C]++,s.lastGoalTeam=C,s.phase="goal_scored",y.playGoal(),setTimeout(()=>{try{o(),s.phase="countdown",s.countdownValue=3;const M=Ee(()=>{try{s.countdownValue--,s.countdownValue<=0&&(clearInterval(M),s.phase="playing",y.playWhistle())}catch(H){console.error("[GAME] Countdown interval error:",H),clearInterval(M),s.phase="playing"}},1e3)}catch(M){console.error("[GAME] Goal reset timeout error:",M),s.phase="playing"}},2e3)}catch(M){console.error("[GAME] Goal scored handler error:",M)}};let b=0;const S=C=>{const M=Math.min((C-V)/1e3,.1);V=C;try{if(s.phase==="playing"){i(M),n.updateAI(s,M),p(),N.applyWaterPhysics(s,M);const{goalScored:H,scoringTeam:j}=N.checkCollisions(s,M);H&&j&&g(j),b<=0?Y():b-=M,s.time-=M,s.time<=0&&(s.time=0,s.phase="game_over",y.playWhistle()),d(M)}k.pause&&(s.phase==="playing"?s.phase="paused":s.phase==="paused"&&(s.phase="playing")),k.switchPlayer&&s.phase==="playing"&&(E(),b=2),s.phase==="game_over"&&k.pass&&(G(),R()),w();try{T.render(s)}catch(H){console.error("[GAME RENDER ERROR]",H)}_=requestAnimationFrame(S)}catch(H){console.error("[GAME LOOP ERROR]",H),_=requestAnimationFrame(S)}},R=()=>{try{if(s.phase!=="menu"&&s.phase!=="game_over")return;y.loadAudio(),o(),s.score={white:0,blue:0},s.time=a.gameDuration,s.phase="countdown",s.countdownValue=3;const C=Ee(()=>{try{s.countdownValue--,s.countdownValue<=0&&(clearInterval(C),s.phase="playing",y.playWhistle())}catch(M){console.error("[GAME] Start countdown error:",M),clearInterval(C),s.phase="playing"}},1e3);_||(V=performance.now(),_=requestAnimationFrame(S))}catch(C){console.error("[GAME] Start game error:",C)}},F=()=>{s.phase==="playing"&&(s.phase="paused")},O=()=>{s.phase==="paused"&&(s.phase="playing")},G=()=>{s.phase="menu",s.score={white:0,blue:0},s.time=a.gameDuration,s.lastGoalTeam=null,o()};return{gameState:s,config:a,startGame:R,pauseGame:F,resumeGame:O,resetGame:G,initGame:()=>{u(),V=performance.now(),_=requestAnimationFrame(S)},cleanupGame:()=>{m(),y.cleanup(),_&&(cancelAnimationFrame(_),_=null)},touchState:$,triggerPass:P,triggerShoot:D,triggerSwitch:U}}const Yo=["width","height"],Xo={key:0,class:"game-overlay"},Qo={class:"menu-content"},Ko={key:0,class:"controls-info"},Uo={key:1,class:"controls-info mobile-info"},Jo={key:1,class:"game-overlay pause-overlay"},Zo={class:"pause-content"},es={class:"pause-buttons"},ts={key:0,class:"touch-controls"},os={class:"touch-buttons"},ss=["title"],as={key:0,xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},ls={key:1,xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},ns=se({__name:"WaterpoloGame",setup(r){const a=ee(null),e=ee(null),{gameState:f,config:h,startGame:v,resumeGame:k,resetGame:$,initGame:w,cleanupGame:u,touchState:m,triggerPass:P,triggerShoot:D,triggerSwitch:U}=No(a),N=ee(!1),n=ee(1),T=()=>{if(!e.value)return;const V=e.value.clientWidth,x=h.canvasWidth;V<x?n.value=V/x:n.value=1},y=async()=>{if(e.value)try{document.fullscreenElement?(await document.exitFullscreen(),N.value=!1):(await e.value.requestFullscreen(),N.value=!0)}catch(V){console.warn("Fullscreen not supported:",V)}},_=()=>{N.value=!!document.fullscreenElement,Ge(T)};return me(()=>{w(),T(),window.addEventListener("resize",T),document.addEventListener("fullscreenchange",_)}),xe(()=>{u(),window.removeEventListener("resize",T),document.removeEventListener("fullscreenchange",_)}),(V,x)=>(z(),q("div",{ref_key:"containerRef",ref:e,class:K(["game-container",{"is-fullscreen":c(N),"is-mobile":c(m).isMobile}])},[t("div",{class:"canvas-wrapper",style:te({width:`${c(h).canvasWidth}px`,height:`${c(h).canvasHeight}px`,transform:`scale(${c(n)})`,transformOrigin:"top center"})},[t("canvas",{ref_key:"canvasRef",ref:a,width:c(h).canvasWidth,height:c(h).canvasHeight,class:"game-canvas"},null,8,Yo),c(f).phase==="menu"?(z(),q("div",Xo,[t("div",Qo,[x[8]||(x[8]=t("h2",{class:"menu-title"},"WATERPOLO",-1)),x[9]||(x[9]=t("p",{class:"menu-subtitle"},"RETRO EDITION",-1)),t("button",{class:"play-button",onClick:x[0]||(x[0]=(...W)=>c(v)&&c(v)(...W))}," PLAY GAME "),c(m).isMobile?(z(),q("div",Uo,[...x[7]||(x[7]=[t("h3",null,"TOUCH CONTROLS",-1),t("p",{class:"touch-hint"},"Drag left side to move",-1),t("p",{class:"touch-hint"},"Tap buttons to pass/shoot",-1)])])):(z(),q("div",Ko,[...x[6]||(x[6]=[Ie('<h3 data-v-770d32ac>CONTROLS</h3><div class="control-row" data-v-770d32ac><span class="key" data-v-770d32ac>ARROWS</span><span class="action" data-v-770d32ac>Move</span></div><div class="control-row" data-v-770d32ac><span class="key" data-v-770d32ac>E</span><span class="action" data-v-770d32ac>Switch players, pass and shoot</span></div><div class="control-row" data-v-770d32ac><span class="key" data-v-770d32ac>SPACE</span><span class="action" data-v-770d32ac>Pause</span></div>',4)])]))])])):pe("",!0),c(f).phase==="paused"?(z(),q("div",Jo,[t("div",Zo,[x[10]||(x[10]=t("h2",{class:"pause-title"},"PAUSED",-1)),t("div",es,[t("button",{class:"pause-btn continue-btn",onClick:x[1]||(x[1]=(...W)=>c(k)&&c(k)(...W))}," CONTINUE "),t("button",{class:"pause-btn restart-btn",onClick:x[2]||(x[2]=W=>{c($)(),c(v)()})}," RESTART ")]),x[11]||(x[11]=t("p",{class:"pause-hint"},"Press SPACE to continue",-1))])])):pe("",!0)],4),c(m).isMobile&&c(f).phase==="playing"?(z(),q("div",ts,[c(m).joystickActive?(z(),q("div",{key:0,class:"joystick-indicator",style:te({left:`${c(m).joystickCenter.x}px`,top:`${c(m).joystickCenter.y}px`})},[t("div",{class:"joystick-knob",style:te({transform:`translate(${c(m).joystickCurrent.x-c(m).joystickCenter.x}px, ${c(m).joystickCurrent.y-c(m).joystickCenter.y}px)`})},null,4)],4)):pe("",!0),t("div",os,[t("button",{class:"touch-btn switch-btn",onTouchstart:x[3]||(x[3]=_e((...W)=>c(U)&&c(U)(...W),["prevent"]))}," E ",32),t("button",{class:"touch-btn pass-btn",onTouchstart:x[4]||(x[4]=_e((...W)=>c(P)&&c(P)(...W),["prevent"]))}," Q ",32),t("button",{class:"touch-btn shoot-btn",onTouchstart:x[5]||(x[5]=_e((...W)=>c(D)&&c(D)(...W),["prevent"]))}," W ",32)])])):pe("",!0),t("button",{class:"fullscreen-btn",title:c(N)?"Exit Fullscreen":"Fullscreen",onClick:y},[c(N)?(z(),q("svg",ls,[...x[13]||(x[13]=[t("path",{d:"M8 3v3a2 2 0 0 1-2 2H3m18 0h-3a2 2 0 0 1-2-2V3m0 18v-3a2 2 0 0 1 2-2h3M3 16h3a2 2 0 0 1 2 2v3"},null,-1)])])):(z(),q("svg",as,[...x[12]||(x[12]=[t("path",{d:"M8 3H5a2 2 0 0 0-2 2v3m18 0V5a2 2 0 0 0-2-2h-3m0 18h3a2 2 0 0 0 2-2v-3M3 16v3a2 2 0 0 0 2 2h3"},null,-1)])]))],8,ss)],2))}}),is=Object.assign(ge(ns,[["__scopeId","data-v-770d32ac"]]),{__name:"GameWaterpoloGame"}),rs={class:"container mx-auto px-4 relative z-10"},cs={class:"inline-block px-4 py-2 bg-electric-cyan/20 rounded-full text-electric-cyan text-sm font-medium mb-4"},ds={class:"text-4xl md:text-5xl font-display text-cream mb-4"},us={class:"text-lg text-soft-slate max-w-2xl mx-auto"},hs={class:"text-soft-slate text-sm"},ps={class:"flex items-center gap-2 text-soft-slate text-sm"},ms={class:"flex items-center gap-2 text-soft-slate text-sm"},vs={class:"flex items-center gap-2 text-soft-slate text-sm"},fs={class:"flex items-center gap-2 text-soft-slate text-sm"},xs=se({__name:"SectionGame",setup(r){const{elementRef:a,isVisible:e}=de({threshold:.1}),{t:f}=ne();return(h,v)=>{const k=is,$=Ne;return z(),q("section",{id:"game",ref_key:"sectionRef",ref:a,class:"relative py-20 md:py-28 overflow-hidden bg-dark-bg"},[v[5]||(v[5]=t("div",{class:"absolute inset-0 opacity-10"},[t("div",{class:"absolute inset-0",style:{"background-image":"radial-gradient(circle at 2px 2px, #70BECF 1px, transparent 0)","background-size":"40px 40px"}})],-1)),t("div",rs,[t("div",{class:K(["text-center mb-12 scroll-reveal",{"is-visible":c(e)}])},[t("span",cs,I(c(f).game?.badge||"ARCADE"),1),t("h2",ds,I(c(f).game?.title||"Play Waterpolo"),1),t("p",us,I(c(f).game?.description||"Experience the excitement of waterpolo with our retro-style arcade game. Control your player, pass to teammates, and score goals!"),1)],2),t("div",{class:K(["flex justify-center scroll-reveal stagger-2",{"is-visible":c(e)}])},[oe($,null,{fallback:ke(()=>[...v[0]||(v[0]=[t("div",{class:"w-[800px] max-w-full aspect-[5/3] bg-dark-surface rounded-lg flex items-center justify-center"},[t("div",{class:"text-center"},[t("div",{class:"animate-spin w-8 h-8 border-4 border-electric-cyan border-t-transparent rounded-full mx-auto mb-4"}),t("p",{class:"text-soft-slate font-mono text-sm"},"Loading game...")])],-1)])]),default:ke(()=>[oe(k)]),_:1})],2),t("div",{class:K(["mt-8 text-center scroll-reveal stagger-3 md:hidden",{"is-visible":c(e)}])},[t("p",hs,I(c(f).game?.mobileNote||"For the best experience, play on a device with a keyboard."),1)],2),t("div",{class:K(["mt-8 hidden md:flex justify-center gap-8 scroll-reveal stagger-3",{"is-visible":c(e)}])},[t("div",ps,[v[1]||(v[1]=Ie('<div class="flex gap-1" data-v-13d51533><kbd class="px-2 py-1 bg-dark-surface border border-ocean-blue rounded text-xs text-cream" data-v-13d51533>  </kbd><kbd class="px-2 py-1 bg-dark-surface border border-ocean-blue rounded text-xs text-cream" data-v-13d51533>  </kbd><kbd class="px-2 py-1 bg-dark-surface border border-ocean-blue rounded text-xs text-cream" data-v-13d51533>  </kbd><kbd class="px-2 py-1 bg-dark-surface border border-ocean-blue rounded text-xs text-cream" data-v-13d51533>  </kbd></div>',1)),t("span",null,I(c(f).game?.move||"Move"),1)]),t("div",ms,[v[2]||(v[2]=t("kbd",{class:"px-3 py-1 bg-dark-surface border border-ocean-blue rounded text-xs text-cream"}," Q ",-1)),t("span",null,I(c(f).game?.pass||"Pass"),1)]),t("div",vs,[v[3]||(v[3]=t("kbd",{class:"px-3 py-1 bg-dark-surface border border-ocean-blue rounded text-xs text-cream"}," W ",-1)),t("span",null,I(c(f).game?.shoot||"Shoot"),1)]),t("div",fs,[v[4]||(v[4]=t("kbd",{class:"px-3 py-1 bg-dark-surface border border-ocean-blue rounded text-xs text-cream"}," E ",-1)),t("span",null,I(c(f).game?.switchPlayer||"Switch"),1)])],2)])],512)}}}),gs=Object.assign(ge(xs,[["__scopeId","data-v-13d51533"]]),{__name:"SectionGame"}),ys={id:"registration",class:"py-20 md:py-32 relative overflow-hidden bg-aqua-wash/40","aria-labelledby":"registration-heading"},bs={class:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 relative z-10"},ws={id:"registration-heading",class:"section-title text-gradient"},_s={class:"mb-8"},ks={class:"text-ocean-blue dark:text-electric-cyan text-sm uppercase tracking-widest mb-2"},Ss={class:"font-display text-6xl md:text-7xl text-gradient mb-2"},Ms={value:"250"},Ps={class:"text-deep-navy/60 dark:text-cream/60"},Cs={class:"text-deep-navy/50 dark:text-cream/50 text-sm mt-2 italic"},Ts={class:"grid md:grid-cols-2 gap-6 mb-8"},Bs={class:"flex items-center gap-4 p-4 rounded-lg bg-deep-navy/5 dark:bg-cream/5"},Is={class:"text-left"},$s={class:"font-display text-sm tracking-wide text-ocean-blue dark:text-electric-cyan"},Rs={class:"text-deep-navy/80 dark:text-cream/80 text-sm"},As={class:"flex items-center gap-4 p-4 rounded-lg bg-deep-navy/5 dark:bg-cream/5"},Es={class:"text-left"},Fs={class:"font-display text-sm tracking-wide text-neon-coral"},Os={class:"text-deep-navy/80 dark:text-cream/80 text-sm"},Ws=se({__name:"SectionRegistration",setup(r){const{t:a}=ne(),{openModal:e}=Oe("modalControls"),{elementRef:f,isVisible:h}=de({threshold:.3}),{elementRef:v,isVisible:k}=de({threshold:.2,delay:200}),$=Z(()=>({"@context":"https://schema.org","@type":"Offer",name:"Team Registration - Valencia Masters Water Polo Cup 2026",description:"Team registration fee for the Valencia Masters Water Polo Cup 2026. Includes up to 16 players.",price:"250",priceCurrency:"EUR",availability:"https://schema.org/InStock",validFrom:"2025-01-01",validThrough:"2026-04-15",url:"https://valenciamasterswaterpolo.com/#registration",eligibleQuantity:{"@type":"QuantitativeValue",value:"16",unitText:"players"},seller:{"@type":"Organization",name:"Valencia Masters Water Polo Cup",url:"https://valenciamasterswaterpolo.com"}}));return ye({script:[{type:"application/ld+json",innerHTML:JSON.stringify($.value)}]}),(w,u)=>(z(),q("section",ys,[u[5]||(u[5]=t("div",{class:"absolute inset-0 bg-gradient-to-br from-neon-coral/5 via-transparent to-electric-cyan/5","aria-hidden":"true"},null,-1)),t("div",bs,[t("div",{ref_key:"titleRef",ref:f,class:K(["text-center mb-16 scroll-reveal",{"is-visible":c(h)}])},[t("h2",ws,I(c(a).registration.title),1),u[1]||(u[1]=t("div",{class:"neon-divider","aria-hidden":"true"},null,-1))],2),t("article",{ref_key:"cardRef",ref:v,class:K(["glass-card p-8 md:p-12 text-center scroll-reveal-scale",{"is-visible":c(k)}])},[t("div",_s,[t("p",ks,I(c(a).registration.fee.label),1),t("p",Ss,[t("data",Ms,I(c(a).registration.fee.value),1)]),t("p",Ps,I(c(a).registration.fee.per),1),t("p",Cs,I(c(a).registration.fee.note),1)]),u[4]||(u[4]=t("div",{class:"w-full h-px bg-gradient-to-r from-transparent via-soft-slate/30 to-transparent my-8","aria-hidden":"true"},null,-1)),t("dl",Ts,[t("div",Bs,[u[2]||(u[2]=t("div",{class:"flex-shrink-0 w-10 h-10 flex items-center justify-center rounded-full bg-ocean-blue/15 text-ocean-blue","aria-hidden":"true"},[t("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})])],-1)),t("div",Is,[t("dt",$s,I(c(a).registration.players.label),1),t("dd",Rs,I(c(a).registration.players.value),1)])]),t("div",As,[u[3]||(u[3]=t("div",{class:"flex-shrink-0 w-10 h-10 flex items-center justify-center rounded-full bg-neon-coral/15 text-neon-coral","aria-hidden":"true"},[t("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v3m0 0v3m0-3h3m-3 0H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1)),t("div",Es,[t("dt",Fs,I(c(a).registration.extra.label),1),t("dd",Os,I(c(a).registration.extra.value),1)])])]),t("button",{class:"btn-primary text-xl","aria-label":"Open pre-registration form",onClick:u[0]||(u[0]=(...m)=>c(e)&&c(e)(...m))},I(c(a).registration.cta),1)],2)])]))}}),Ds=Object.assign(Ws,{__name:"SectionRegistration"}),Ls={id:"faq",class:"py-20 md:py-32 relative overflow-hidden","aria-labelledby":"faq-heading"},js={class:"max-w-3xl mx-auto px-4 sm:px-6 lg:px-8 relative z-10"},Vs={class:"text-center mb-16"},Gs={id:"faq-heading",class:"section-title text-gradient"},Hs=["aria-label"],zs=["id","aria-expanded","aria-controls","onClick"],qs={class:"font-display text-lg tracking-wide text-deep-navy dark:text-cream pr-4"},Ns=["id","aria-labelledby"],Ys={class:"px-6 pb-4 text-deep-navy/70 dark:text-cream/70 leading-relaxed border-t border-soft-slate/10 dark:border-soft-slate/20 pt-4"},Xs={class:"text-center mt-12"},Qs={class:"text-deep-navy/60 dark:text-cream/60 mb-4"},Ks=["href"],Us=se({__name:"SectionFAQ",setup(r){const{t:a}=ne(),e=ee([0]),f=w=>{const u=e.value.indexOf(w);u>-1?e.value.splice(u,1):e.value.push(w)},h=w=>e.value.includes(w),v=w=>`faq-question-${w}`,k=w=>`faq-answer-${w}`,$=Z(()=>{const w=a.value.faq.items;return!w||w.length===0?null:{"@context":"https://schema.org","@type":"FAQPage",mainEntity:w.map(u=>({"@type":"Question",name:u.question,acceptedAnswer:{"@type":"Answer",text:u.answer}}))}});return ye({script:Z(()=>$.value?[{type:"application/ld+json",innerHTML:JSON.stringify($.value)}]:[])}),(w,u)=>(z(),q("section",Ls,[u[3]||(u[3]=t("div",{class:"absolute -top-32 -left-32 w-96 h-96 bg-electric-cyan/10 rounded-full blur-3xl","aria-hidden":"true"},null,-1)),u[4]||(u[4]=t("div",{class:"absolute -bottom-32 -right-32 w-96 h-96 bg-valencia-purple/10 rounded-full blur-3xl","aria-hidden":"true"},null,-1)),t("div",js,[t("div",Vs,[t("h2",Gs,I(c(a).faq.title),1),u[0]||(u[0]=t("div",{class:"neon-divider","aria-hidden":"true"},null,-1))]),t("div",{class:"space-y-4",role:"list","aria-label":c(a).faq.title},[(z(!0),q(ue,null,he(c(a).faq.items,(m,P)=>(z(),q("div",{key:P,class:"glass-card overflow-hidden",role:"listitem"},[t("h3",null,[t("button",{id:v(P),"aria-expanded":h(P),"aria-controls":k(P),class:"w-full px-6 py-4 flex items-center justify-between text-left hover:bg-ocean-blue/5 dark:hover:bg-ocean-blue/10 transition-colors",onClick:D=>f(P)},[t("span",qs,I(m.question),1),(z(),q("svg",{class:K(["flex-shrink-0 w-5 h-5 text-ocean-blue dark:text-electric-cyan transition-transform duration-300",{"rotate-180":h(P)}]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true"},[...u[1]||(u[1]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"},null,-1)])],2))],8,zs)]),oe(qe,{"enter-active-class":"transition-all duration-300 ease-out","enter-from-class":"max-h-0 opacity-0","enter-to-class":"max-h-96 opacity-100","leave-active-class":"transition-all duration-200 ease-in","leave-from-class":"max-h-96 opacity-100","leave-to-class":"max-h-0 opacity-0"},{default:ke(()=>[He(t("div",{id:k(P),role:"region","aria-labelledby":v(P),class:"overflow-hidden"},[t("div",Ys,I(m.answer),1)],8,Ns),[[ze,h(P)]])]),_:2},1024)]))),128))],8,Hs),t("div",Xs,[t("p",Qs,I(c(a).faq.moreQuestions),1),t("a",{href:`mailto:${c(a).contact.email}`,class:"btn-primary inline-flex items-center gap-2","aria-label":"Contact us via email"},[u[2]||(u[2]=t("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})],-1)),De(" "+I(c(a).faq.contactUs),1)],8,Ks)])])]))}}),Js=Object.assign(Us,{__name:"SectionFAQ"}),sa=se({__name:"index",setup(r){return(a,e)=>{const f=et,h=ht,v=_t,k=jt,$=Qt,w=so,u=xo,m=Mo,P=Eo,D=gs,U=Ds,N=Js;return z(),q("div",null,[oe(f),oe(h),oe(v),oe(k),oe($),oe(w),oe(u),oe(m),oe(P),oe(D),oe(U),oe(N)])}}});export{sa as default};
