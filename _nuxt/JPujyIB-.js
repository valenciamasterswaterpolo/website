import{E as Fe,o as me,F as xe,g as Z,d as se,G as We,x as z,y as q,z as o,H as te,I as Ie,J as X,A as I,K as c,L as Ae,M as _e,N as ne,k as U,O as Oe,P as ue,Q as he,D as De,R as pe,S as Be,f as Le,T as Ve,C as ke,U as ve,V as Ge,B as oe,W as He,X as ze,Y as qe}from"./CDQ606w_.js";import{_ as ge}from"./DlAUqK2U.js";import{u as je,_ as Ye}from"./mOgptJYg.js";import{u as ye}from"./BIO2nywK.js";const Ne=Fe("/images/hero-background.png"),Qe=Fe("/images/logo_year.png");function $e(){const i=Z(!1);let s=null;const e=()=>{i.value=s?.matches??!1};return me(()=>{typeof window<"u"&&(s=window.matchMedia("(prefers-reduced-motion: reduce)"),i.value=s.matches,s.addEventListener("change",e))}),xe(()=>{s?.removeEventListener("change",e)}),{prefersReducedMotion:i}}const Xe={class:"relative z-10 h-full flex flex-col items-center justify-center px-4"},Ke={datetime:"2026-05-16/2026-05-17"},Ue=["aria-label","onKeydown"],Je={class:"text-sm text-cream/80 tracking-wider","aria-hidden":"true"},Ze=se({__name:"HeroSection",setup(i){const{t:s}=ne(),{prefersReducedMotion:e}=$e(),x=Z(!1),h=Z(0),g=Z(null),P=Z(0),$=()=>{h.value=window.scrollY},m=()=>{g.value&&(P.value=g.value.offsetHeight)};me(()=>{window.addEventListener("scroll",$,{passive:!0}),window.addEventListener("resize",m),m(),e.value?x.value=!0:setTimeout(()=>{x.value=!0},100)}),xe(()=>{window.removeEventListener("scroll",$),window.removeEventListener("resize",m)});const d=U(()=>{const f=Math.min(h.value/(P.value*.7),1),w=h.value*.4,R=1-f*.3,A=1-f;return{transform:`translateY(${w}px) scale(${R})`,opacity:Math.max(A,0)}}),v=U(()=>({transform:`translateY(${h.value*.5}px)`})),M=U(()=>.3+Math.min(h.value/(P.value*.5),1)*.4),l=()=>{const f=document.getElementById("about");f&&f.scrollIntoView({behavior:"smooth"})},{openModal:k}=We("modalControls");return(f,w)=>(z(),q("section",{id:"hero",ref_key:"heroRef",ref:g,class:"relative h-screen min-h-[600px] overflow-hidden","aria-labelledby":"hero-heading"},[o("div",{class:"absolute inset-0 w-full h-[120%] -top-[10%]",style:te(v.value)},[...w[1]||(w[1]=[o("img",{src:Ne,alt:"",role:"presentation",class:"w-full h-full object-cover",width:"1920",height:"1080",fetchpriority:"high"},null,-1)])],4),o("div",{class:"absolute inset-0 transition-opacity duration-300",style:te({backgroundColor:`rgba(14, 36, 51, ${M.value*.7})`}),"aria-hidden":"true"},null,4),w[5]||(w[5]=Ie('<div class="absolute inset-0 bg-grid-pattern bg-grid opacity-10" aria-hidden="true" data-v-2fb875a7></div><div class="absolute inset-0 overflow-hidden pointer-events-none" aria-hidden="true" data-v-2fb875a7><div class="absolute top-1/4 left-[10%] w-2 h-2 rounded-full bg-electric-cyan/40 animate-float" style="animation-delay:0s;" data-v-2fb875a7></div><div class="absolute top-1/3 right-[15%] w-3 h-3 rounded-full bg-neon-coral/30 animate-float" style="animation-delay:1s;" data-v-2fb875a7></div><div class="absolute bottom-1/3 left-[20%] w-2 h-2 rounded-full bg-valencia-purple/30 animate-float" style="animation-delay:2s;" data-v-2fb875a7></div><div class="absolute top-1/2 right-[10%] w-1.5 h-1.5 rounded-full bg-cream/30 animate-float" style="animation-delay:0.5s;" data-v-2fb875a7></div></div>',2)),o("div",Xe,[w[3]||(w[3]=o("h1",{id:"hero-heading",class:"sr-only"}," Valencia Masters Water Polo Cup 2026 - III Masters Water Polo Tournament ",-1)),o("div",{class:X(["hero-entrance",{"is-visible":x.value}]),style:te(d.value)},[...w[2]||(w[2]=[o("img",{src:Qe,alt:"Valencia Masters Water Polo Cup 2026",class:"w-[100%] max-w-[500px] h-auto drop-shadow-2xl",width:"500",height:"400",fetchpriority:"high"},null,-1)])],6),o("p",{class:X(["hero-entrance stagger-1 mt-6 text-lg md:text-xl text-center text-white/90 font-light tracking-wide",{"is-visible":x.value}]),style:te({opacity:x.value?Math.max(1-h.value/300,0):0})},I(c(s).hero.subtitle),7),o("p",{class:X(["hero-entrance stagger-2 mt-4 font-display text-2xl md:text-3xl text-cream tracking-widest text-neon-subtle",{"is-visible":x.value}]),style:te({opacity:x.value?Math.max(1-h.value/300,0):0})},[o("time",Ke,I(c(s).hero.dates),1)],6),o("button",{class:X(["hero-entrance stagger-3 mt-8 btn-primary",{"is-visible":x.value}]),style:te({opacity:x.value?Math.max(1-h.value/200,0):0}),"aria-label":"Open pre-registration form",onClick:w[0]||(w[0]=(...R)=>c(k)&&c(k)(...R))},I(c(s).hero.cta),7)]),o("div",{class:X(["hero-entrance stagger-4 absolute bottom-8 left-1/2 -translate-x-1/2 flex flex-col items-center gap-2 cursor-pointer",{"is-visible":x.value}]),style:te({opacity:x.value?Math.max(1-h.value/100,0):0}),role:"button",tabindex:"0","aria-label":c(s).hero.scroll,onClick:l,onKeydown:[Ae(l,["enter"]),Ae(_e(l,["prevent"]),["space"])]},[o("span",Je,I(c(s).hero.scroll),1),w[4]||(w[4]=o("div",{class:"animate-scroll-bounce","aria-hidden":"true"},[o("svg",{class:"w-6 h-6 text-cream",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 14l-7 7m0 0l-7-7m7 7V3"})])],-1))],46,Ue)],512))}}),et=Object.assign(ge(Ze,[["__scopeId","data-v-2fb875a7"]]),{__name:"HeroSection"}),tt={key:0,id:"sponsors",class:"py-20 md:py-32 relative overflow-hidden bg-sea-mist/20 dark:bg-valencia-purple/5","aria-labelledby":"sponsors-heading",role:"complementary"},ot={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative z-10"},st={class:"text-center mb-12 md:mb-16"},at={id:"sponsors-heading",class:"section-title text-gradient"},lt=["aria-label"],nt=["href","target","rel","aria-label"],it=["src","alt"],rt={class:"sponsor-name"},ct={class:"text-center mt-10 md:mt-12"},dt=["href"],ut=se({__name:"SectionSponsors",async setup(i){let s,e;const{t:x}=ne(),{data:h}=([s,e]=Oe(()=>je("/data/sponsors.json","$uALORNJRMD")),s=await s,e(),s),g=U(()=>h.value?.sponsors||[]),P=U(()=>g.value.length>0),$=U(()=>{const d=g.value.length;return d===1?"grid-cols-1 max-w-xs mx-auto":d===2?"grid-cols-2 max-w-md mx-auto":d<=4?"grid-cols-2 sm:grid-cols-4 max-w-3xl mx-auto":"grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6"}),m=U(()=>P.value?{"@context":"https://schema.org","@type":"SportsEvent",name:"Valencia Masters Water Polo Cup 2026",description:"III Masters Water Polo Tournament - UPV Campus, Valencia",startDate:"2026-05-16",endDate:"2026-05-17",eventStatus:"https://schema.org/EventScheduled",eventAttendanceMode:"https://schema.org/OfflineEventAttendanceMode",location:{"@type":"Place",name:"UPV Campus Swimming Pool",address:{"@type":"PostalAddress",streetAddress:"Camino de Vera, s/n",addressLocality:"Valencia",postalCode:"46022",addressCountry:"ES"}},organizer:{"@type":"Organization",name:"Valencia Masters Water Polo Cup",url:"https://valenciamasterswaterpolo.com"},sponsor:g.value.map(d=>({"@type":"Organization",name:d.name,logo:d.logo.startsWith("http")?d.logo:`https://valenciamasterswaterpolo.com${d.logo}`,...d.url&&{url:d.url}}))}:null);return ye({script:U(()=>m.value?[{type:"application/ld+json",innerHTML:JSON.stringify(m.value)}]:[])}),(d,v)=>P.value?(z(),q("aside",tt,[v[2]||(v[2]=o("div",{class:"absolute top-0 right-0 w-64 md:w-96 h-64 md:h-96 bg-valencia-purple/5 rounded-full blur-3xl"},null,-1)),v[3]||(v[3]=o("div",{class:"absolute bottom-0 left-0 w-64 md:w-96 h-64 md:h-96 bg-ocean-blue/5 rounded-full blur-3xl"},null,-1)),o("div",ot,[o("div",st,[o("h2",at,I(c(x).sponsors.title),1),v[0]||(v[0]=o("div",{class:"neon-divider"},null,-1))]),o("div",{class:X(["grid gap-6 md:gap-8 lg:gap-10 justify-items-center",$.value]),role:"list","aria-label":c(x).sponsors.title},[(z(!0),q(ue,null,he(g.value,M=>(z(),q("figure",{key:M.name,class:"glass-card sponsor-card group",role:"listitem"},[o("a",{href:M.url||void 0,target:M.url?"_blank":void 0,rel:M.url?"sponsored noopener noreferrer":void 0,class:"flex items-center justify-center w-full","aria-label":M.url?`Visit ${M.name} website`:M.name},[o("img",{src:M.logo,alt:`${M.name} logo - Official sponsor of Valencia Masters Water Polo Cup 2026`,class:"sponsor-logo",width:"160",height:"80",loading:"lazy",decoding:"async"},null,8,it)],8,nt),o("figcaption",rt,I(M.name),1)]))),128))],10,lt),o("div",ct,[o("a",{href:`mailto:${c(x).contact.email}?subject=Sponsorship Valencia Masters Water Polo Cup 2026`,class:"inline-flex items-center gap-2 text-ocean-blue hover:text-valencia-purple dark:text-electric-cyan dark:hover:text-neon-coral transition-colors text-sm md:text-base font-medium"},[v[1]||(v[1]=o("svg",{class:"w-4 h-4 md:w-5 md:h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})],-1)),De(" "+I(c(x).sponsors.cta),1)],8,dt)])])])):pe("",!0)}}),ht=Object.assign(ge(ut,[["__scopeId","data-v-a2f46606"]]),{__name:"SectionSponsors"});function de(i={}){const{threshold:s=.2,rootMargin:e="0px 0px -50px 0px",once:x=!0,delay:h=0}=i,{prefersReducedMotion:g}=$e(),P=Z(null),$=Z(!1),m=Z(!1);let d=null,v=null;const M=()=>{!P.value||typeof window>"u"||(d=new IntersectionObserver(l=>{l.forEach(k=>{k.isIntersecting&&(!x||!m.value)?(h>0&&!g.value?v=setTimeout(()=>{$.value=!0,m.value=!0},h):($.value=!0,m.value=!0),x&&d&&d.unobserve(k.target)):x||($.value=!1)})},{threshold:s,rootMargin:e}),d.observe(P.value))};return me(()=>{g.value?($.value=!0,m.value=!0):M()}),xe(()=>{d?.disconnect(),v&&clearTimeout(v)}),Be(g,l=>{l&&($.value=!0,m.value=!0,d?.disconnect())}),{elementRef:P,isVisible:$,hasAnimated:m}}function be(i,s={}){const{threshold:e=.15,rootMargin:x="0px 0px -50px 0px",baseDelay:h=0,staggerDelay:g=100,once:P=!0}=s,{prefersReducedMotion:$}=$e(),m=Z(null),d=Z(!1),v=Z([]),M=Z(!1),l=U(()=>typeof i=="function"?i():typeof i=="number"?i:i.value),k=()=>{v.value=new Array(l.value).fill(!1)},f=()=>{if($.value){v.value=new Array(l.value).fill(!0);return}for(let p=0;p<l.value;p++)setTimeout(()=>{v.value[p]!==void 0&&(v.value[p]=!0)},h+p*g)};let w=null;return me(()=>{if(k(),$.value){d.value=!0,v.value=new Array(l.value).fill(!0),M.value=!0;return}!m.value||typeof window>"u"||(w=new IntersectionObserver(p=>{p.forEach(E=>{E.isIntersecting&&(!P||!M.value)&&(d.value=!0,M.value=!0,f(),P&&w&&w.unobserve(E.target))})},{threshold:e,rootMargin:x}),w.observe(m.value))}),xe(()=>{w?.disconnect()}),Be(l,()=>{k(),M.value&&f()}),Be($,p=>{p&&(d.value=!0,v.value=new Array(l.value).fill(!0),M.value=!0,w?.disconnect())}),{containerRef:m,isContainerVisible:d,visibleItems:v,getItemStyle:p=>$.value?{}:{transitionDelay:`${h+p*g}ms`},isItemVisible:p=>v.value[p]??!1,hasAnimated:M}}const pt={id:"about",class:"py-20 md:py-32 relative overflow-hidden bg-aqua-wash/30","aria-labelledby":"about-heading"},mt={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative z-10"},ft={id:"about-heading",class:"section-title text-gradient"},vt={class:"max-w-2xl mx-auto text-lg text-deep-navy/70 dark:text-cream/70 leading-relaxed"},xt={class:"feature-card text-center group h-full",role:"listitem"},gt=["innerHTML"],yt={class:"font-display text-xl tracking-wide text-deep-navy dark:text-cream mb-2"},bt={class:"text-deep-navy/60 dark:text-cream/60"},wt=se({__name:"SectionAbout",setup(i){const{t:s}=ne(),{elementRef:e,isVisible:x}=de({threshold:.3}),h=U(()=>s.value.about.features?.length||3),{containerRef:g,isItemVisible:P,getItemStyle:$}=be(h,{staggerDelay:150,baseDelay:100}),m={0:`<svg class="w-8 h-8" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true">
    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3.055 11H5a2 2 0 012 2v1a2 2 0 002 2 2 2 0 012 2v2.945M8 3.935V5.5A2.5 2.5 0 0010.5 8h.5a2 2 0 012 2 2 2 0 104 0 2 2 0 012-2h1.064M15 20.488V18a2 2 0 012-2h3.064M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
  </svg>`,1:`<svg class="w-8 h-8" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true">
    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z" />
  </svg>`,2:`<svg class="w-8 h-8" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true">
    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4" />
  </svg>`};return(d,v)=>{const M=Le("TiltCard");return z(),q("section",pt,[v[1]||(v[1]=o("div",{class:"absolute top-0 right-0 w-96 h-96 bg-valencia-purple/5 rounded-full blur-3xl","aria-hidden":"true"},null,-1)),v[2]||(v[2]=o("div",{class:"absolute bottom-0 left-0 w-96 h-96 bg-ocean-blue/5 rounded-full blur-3xl","aria-hidden":"true"},null,-1)),o("div",mt,[o("div",{ref_key:"titleRef",ref:e,class:X(["text-center mb-16 scroll-reveal",{"is-visible":c(x)}])},[o("h2",ft,I(c(s).about.title),1),v[0]||(v[0]=o("div",{class:"neon-divider","aria-hidden":"true"},null,-1)),o("p",vt,I(c(s).about.description),1)],2),o("div",{ref_key:"featuresRef",ref:g,class:"grid md:grid-cols-3 gap-8",role:"list","aria-label":"Event features"},[(z(!0),q(ue,null,he(c(s).about.features,(l,k)=>(z(),Ve(M,{key:k,"max-tilt":8,glare:!0,class:X(["scroll-reveal",{"is-visible":c(P)(k)}]),style:te(c($)(k))},{default:ke(()=>[o("article",xt,[o("div",{class:"w-16 h-16 mx-auto mb-4 flex items-center justify-center rounded-full bg-gradient-to-br from-electric-cyan/20 to-ocean-blue/20 text-ocean-blue group-hover:shadow-neon-subtle transition-all duration-300",innerHTML:m[k],"aria-hidden":"true"},null,8,gt),o("h3",yt,I(l.title),1),o("p",bt,I(l.description),1)])]),_:2},1032,["class","style"]))),128))],512)])])}}}),_t=Object.assign(wt,{__name:"SectionAbout"}),kt={id:"schedule",class:"py-20 md:py-32 bg-peach-wash/30 relative","aria-labelledby":"schedule-heading"},St={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},Mt={id:"schedule-heading",class:"section-title text-gradient"},Pt={class:"font-display text-lg tracking-wide text-ocean-blue dark:text-electric-cyan mb-2"},Ct={class:"text-deep-navy dark:text-cream font-medium"},Tt={class:"font-display text-lg tracking-wide text-neon-coral mb-2"},Bt={class:"text-deep-navy dark:text-cream font-medium"},It={datetime:"2026-05-16/2026-05-17"},$t={class:"font-display text-lg tracking-wide text-valencia-purple dark:text-sunset-peach mb-2"},Rt={class:"text-deep-navy dark:text-cream font-medium text-sm"},At={datetime:"2026-05-16T15:00/21:00"},Et={class:"text-deep-navy dark:text-cream font-medium text-sm"},Ft={datetime:"2026-05-17T09:00/15:00"},Wt={class:"font-display text-lg tracking-wide text-valencia-purple dark:text-sunset-peach mb-2"},Ot={class:"text-deep-navy dark:text-cream font-medium text-sm"},Dt={class:"not-italic"},jt=se({__name:"SectionSchedule",setup(i){const{t:s}=ne(),{elementRef:e,isVisible:x}=de({threshold:.3}),{containerRef:h,isItemVisible:g,getItemStyle:P}=be(4,{staggerDelay:100,baseDelay:100}),$=U(()=>({"@context":"https://schema.org","@type":"SportsEvent",name:"Valencia Masters Water Polo Cup 2026",description:"III Masters Water Polo Tournament - Mixed Masters +30 category",startDate:"2026-05-16T15:00:00+02:00",endDate:"2026-05-17T15:00:00+02:00",eventStatus:"https://schema.org/EventScheduled",eventAttendanceMode:"https://schema.org/OfflineEventAttendanceMode",location:{"@type":"Place",name:"UPV Campus Swimming Pool",address:{"@type":"PostalAddress",streetAddress:"Camino de Vera, s/n",addressLocality:"Valencia",postalCode:"46022",addressRegion:"Valencia",addressCountry:"ES"},geo:{"@type":"GeoCoordinates",latitude:39.4817,longitude:-.3419}},organizer:{"@type":"Organization",name:"Valencia Masters Water Polo Cup",url:"https://valenciamasterswaterpolo.com",email:"info@valenciamasterswaterpolo.com"},sport:"Water Polo",competitor:{"@type":"SportsTeam",sport:"Water Polo"}}));return ye({script:[{type:"application/ld+json",innerHTML:JSON.stringify($.value)}]}),(m,d)=>(z(),q("section",kt,[o("div",St,[o("div",{ref_key:"titleRef",ref:e,class:X(["text-center mb-16 scroll-reveal",{"is-visible":c(x)}])},[o("h2",Mt,I(c(s).schedule.title),1),d[0]||(d[0]=o("div",{class:"neon-divider","aria-hidden":"true"},null,-1))],2),o("dl",{ref_key:"cardsRef",ref:h,class:"grid md:grid-cols-2 lg:grid-cols-4 gap-6"},[o("div",{class:X(["glass-card p-6 text-center scroll-reveal hover-lift",{"is-visible":c(g)(0)}]),style:te(c(P)(0))},[d[1]||(d[1]=o("div",{class:"w-12 h-12 mx-auto mb-4 flex items-center justify-center rounded-full bg-ocean-blue/15 text-ocean-blue","aria-hidden":"true"},[o("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})])],-1)),o("dt",Pt,I(c(s).schedule.category.label),1),o("dd",Ct,I(c(s).schedule.category.value),1)],6),o("div",{class:X(["glass-card p-6 text-center scroll-reveal hover-lift",{"is-visible":c(g)(1)}]),style:te(c(P)(1))},[d[2]||(d[2]=o("div",{class:"w-12 h-12 mx-auto mb-4 flex items-center justify-center rounded-full bg-neon-coral/15 text-neon-coral","aria-hidden":"true"},[o("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})])],-1)),o("dt",Tt,I(c(s).schedule.dates.label),1),o("dd",Bt,[o("time",It,I(c(s).schedule.dates.value),1)])],6),o("div",{class:X(["glass-card p-6 text-center scroll-reveal hover-lift",{"is-visible":c(g)(2)}]),style:te(c(P)(2))},[d[3]||(d[3]=o("div",{class:"w-12 h-12 mx-auto mb-4 flex items-center justify-center rounded-full bg-sunset-peach/30 text-valencia-purple","aria-hidden":"true"},[o("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1)),o("dt",$t,I(c(s).schedule.times.label),1),o("dd",Rt,[o("time",At,I(c(s).schedule.times.saturday),1)]),o("dd",Et,[o("time",Ft,I(c(s).schedule.times.sunday),1)])],6),o("div",{class:X(["glass-card p-6 text-center scroll-reveal hover-lift",{"is-visible":c(g)(3)}]),style:te(c(P)(3))},[d[4]||(d[4]=o("div",{class:"w-12 h-12 mx-auto mb-4 flex items-center justify-center rounded-full bg-valencia-purple/15 text-valencia-purple","aria-hidden":"true"},[o("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})])],-1)),o("dt",Wt,I(c(s).schedule.location.label),1),o("dd",Ot,[o("address",Dt,I(c(s).schedule.location.value),1)])],6)],512)])]))}}),Lt=Object.assign(jt,{__name:"SectionSchedule"}),Vt={class:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 relative z-10"},Gt={class:"text-center mb-12"},Ht={id:"format-heading",class:"section-title text-gradient"},zt={class:"grid grid-cols-2 md:grid-cols-3 gap-4",role:"list","aria-label":"Tournament format details"},qt={class:"flex items-center gap-3"},Yt=["innerHTML"],Nt={class:"text-deep-navy/90 dark:text-cream/90 font-medium text-sm md:text-base"},Qt=se({__name:"SectionFormat",setup(i){const{t:s}=ne(),e=Z(!1),x=Z(null);me(()=>{const P=new IntersectionObserver($=>{$.forEach(m=>{m.isIntersecting&&(e.value=!0)})},{threshold:.2});x.value&&P.observe(x.value)});const h={fields:'<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true"><rect x="2" y="4" width="8" height="16" rx="1"/><rect x="14" y="4" width="8" height="16" rx="1"/></svg>',clock:'<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true"><circle cx="12" cy="12" r="10"/><path d="M12 6v6l4 2"/></svg>',bracket:'<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true"><path d="M4 4v4h4M4 20v-4h4M20 4v4h-4M20 20v-4h-4"/><circle cx="12" cy="12" r="3"/></svg>',score:'<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true"><rect x="2" y="6" width="9" height="12" rx="1"/><rect x="13" y="6" width="9" height="12" rx="1"/><text x="6.5" y="14" font-size="6" fill="currentColor" text-anchor="middle">3</text><text x="17.5" y="14" font-size="6" fill="currentColor" text-anchor="middle">0</text></svg>',penalty:'<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true"><rect x="4" y="2" width="16" height="12" rx="1"/><circle cx="12" cy="18" r="3"/><path d="M12 15v-3"/></svg>',trophy:'<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true"><path d="M6 9H4a2 2 0 01-2-2V5h4M18 9h2a2 2 0 002-2V5h-4"/><path d="M4 5h16v4a6 6 0 01-6 6h-4a6 6 0 01-6-6V5z"/><path d="M12 15v4M8 21h8"/></svg>'},g=P=>h[P]||"";return(P,$)=>(z(),q("section",{id:"format",ref_key:"sectionRef",ref:x,class:"py-20 md:py-32 relative overflow-hidden bg-cream/50 dark:bg-deep-navy/30","aria-labelledby":"format-heading"},[$[1]||($[1]=o("div",{class:"absolute inset-0 bg-gradient-to-b from-transparent via-valencia-purple/5 to-transparent","aria-hidden":"true"},null,-1)),o("div",Vt,[o("div",Gt,[o("h2",Ht,I(c(s).format.title),1),$[0]||($[0]=o("div",{class:"neon-divider","aria-hidden":"true"},null,-1))]),o("ul",zt,[(z(!0),q(ue,null,he(c(s).format.items,(m,d)=>(z(),q("li",{key:m.key,class:X(["format-card group",{"animate-slide-up":e.value}]),style:te({animationDelay:`${d*100}ms`})},[o("div",qt,[o("div",{class:"w-10 h-10 flex items-center justify-center rounded-lg bg-gradient-to-br from-electric-cyan/20 to-ocean-blue/20 text-ocean-blue group-hover:shadow-neon-subtle transition-all",innerHTML:g(m.icon),"aria-hidden":"true"},null,8,Yt),o("span",Nt,I(m.text),1)])],6))),128))])])],512))}}),Xt=Object.assign(ge(Qt,[["__scopeId","data-v-490ac286"]]),{__name:"SectionFormat"}),Kt={id:"why",class:"py-20 md:py-32 bg-aqua-wash/30 relative overflow-hidden","aria-labelledby":"why-heading"},Ut={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative z-10"},Jt={id:"why-heading",class:"section-title text-gradient"},Zt=["innerHTML"],eo={class:"font-display text-xl tracking-wide text-deep-navy dark:text-cream mb-2"},to={class:"text-deep-navy/60 dark:text-cream/60 text-sm"},oo=se({__name:"SectionWhy",setup(i){const{t:s}=ne(),{elementRef:e,isVisible:x}=de({threshold:.3}),h=U(()=>s.value.why.features?.length||4),{containerRef:g,isItemVisible:P,getItemStyle:$}=be(h,{staggerDelay:120,baseDelay:100}),m={video:'<svg class="w-8 h-8" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z" /></svg>',whistle:'<svg class="w-8 h-8" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5.882V19.24a1.76 1.76 0 01-3.417.592l-2.147-6.15M18 13a3 3 0 100-6M5.436 13.683A4.001 4.001 0 017 6h1.832c4.1 0 7.625-1.234 9.168-3v14c-1.543-1.766-5.067-3-9.168-3H7a3.988 3.988 0 01-1.564-.317z" /></svg>',gift:'<svg class="w-8 h-8" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v13m0-13V6a2 2 0 112 2h-2zm0 0V5.5A2.5 2.5 0 109.5 8H12zm-7 4h14M5 12a2 2 0 110-4h14a2 2 0 110 4M5 12v7a2 2 0 002 2h10a2 2 0 002-2v-7" /></svg>',dinner:'<svg class="w-8 h-8" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z" /></svg>'};return(d,v)=>(z(),q("section",Kt,[v[1]||(v[1]=o("div",{class:"absolute -top-32 -right-32 w-96 h-96 bg-neon-coral/10 rounded-full blur-3xl","aria-hidden":"true"},null,-1)),v[2]||(v[2]=o("div",{class:"absolute -bottom-32 -left-32 w-96 h-96 bg-electric-cyan/10 rounded-full blur-3xl","aria-hidden":"true"},null,-1)),o("div",Ut,[o("div",{ref_key:"titleRef",ref:e,class:X(["text-center mb-16 scroll-reveal",{"is-visible":c(x)}])},[o("h2",Jt,I(c(s).why.title),1),v[0]||(v[0]=o("div",{class:"neon-divider","aria-hidden":"true"},null,-1))],2),o("ul",{ref_key:"featuresRef",ref:g,class:"grid md:grid-cols-2 lg:grid-cols-4 gap-8",role:"list","aria-label":"Tournament benefits"},[(z(!0),q(ue,null,he(c(s).why.features,(M,l)=>(z(),q("li",{key:l,class:X(["feature-card text-center group scroll-reveal hover-lift",{"is-visible":c(P)(l)}]),style:te(c($)(l))},[o("div",{class:"w-16 h-16 mx-auto mb-4 flex items-center justify-center rounded-full bg-gradient-to-br from-neon-coral/20 to-sunset-peach/30 text-neon-coral group-hover:shadow-neon-coral transition-all",innerHTML:m[M.icon],"aria-hidden":"true"},null,8,Zt),o("h3",eo,I(M.title),1),o("p",to,I(M.description),1)],6))),128))],512)])]))}}),so=Object.assign(oo,{__name:"SectionWhy"}),ao={key:0,id:"teams",class:"py-20 md:py-32 bg-valencia-purple/5 dark:bg-valencia-purple/10 relative overflow-hidden","aria-labelledby":"teams-heading"},lo={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative z-10"},no={class:"text-center mb-16"},io={id:"teams-heading",class:"section-title text-gradient"},ro={class:"max-w-2xl mx-auto text-lg text-deep-navy/70 dark:text-cream/70 leading-relaxed"},co=["aria-label"],uo=["href","target","rel","aria-label"],ho={class:"w-20 h-20 mb-4 flex items-center justify-center"},po=["src","alt"],mo={class:"text-center text-sm font-medium text-deep-navy dark:text-cream group-hover:text-valencia-purple dark:group-hover:text-electric-cyan transition-colors"},fo={key:0,class:"text-xs text-deep-navy/50 dark:text-cream/50 mt-1"},vo=se({__name:"SectionTeams",async setup(i){let s,e;const{t:x}=ne(),{data:h}=([s,e]=Oe(()=>je("/data/teams.json","$uzSWI9PIV_")),s=await s,e(),s),g=U(()=>h.value?.teams||[]),P=U(()=>g.value.length>0),$=U(()=>P.value?{"@context":"https://schema.org","@type":"ItemList",name:"Participating Teams - Valencia Masters Water Polo Cup 2026",description:"List of teams participating in the Valencia Masters Water Polo Cup 2026",numberOfItems:g.value.length,itemListElement:g.value.map((m,d)=>({"@type":"ListItem",position:d+1,item:{"@type":"SportsTeam",name:m.name,sport:"Water Polo",...m.logo&&{logo:m.logo.startsWith("http")?m.logo:`https://valenciamasterswaterpolo.com${m.logo}`},...m.url&&{url:m.url},...m.country&&{location:{"@type":"Country",name:m.country}}}}))}:null);return ye({script:U(()=>$.value?[{type:"application/ld+json",innerHTML:JSON.stringify($.value)}]:[])}),(m,d)=>P.value?(z(),q("section",ao,[d[1]||(d[1]=o("div",{class:"absolute top-0 left-0 w-96 h-96 bg-ocean-blue/5 rounded-full blur-3xl","aria-hidden":"true"},null,-1)),d[2]||(d[2]=o("div",{class:"absolute bottom-0 right-0 w-96 h-96 bg-valencia-purple/5 rounded-full blur-3xl","aria-hidden":"true"},null,-1)),o("div",lo,[o("div",no,[o("h2",io,I(c(x).teams.title),1),d[0]||(d[0]=o("div",{class:"neon-divider","aria-hidden":"true"},null,-1)),o("p",ro,I(c(x).teams.description),1)]),o("ul",{class:"flex flex-wrap justify-center items-stretch gap-6 md:gap-8",role:"list","aria-label":c(x).teams.title},[(z(!0),q(ue,null,he(g.value,v=>(z(),q("li",{key:v.name,class:"feature-card p-6 flex flex-col items-center justify-center min-w-[140px] max-w-[180px] hover:scale-105 transition-transform group"},[o("a",{href:v.url||void 0,target:v.url?"_blank":void 0,rel:v.url?"noopener noreferrer":void 0,class:"flex flex-col items-center justify-center w-full h-full","aria-label":v.url?`Visit ${v.name} website`:v.name},[o("figure",ho,[o("img",{src:v.logo,alt:`${v.name} team logo`,class:"max-w-full max-h-full object-contain",width:"80",height:"80",loading:"lazy",decoding:"async"},null,8,po)]),o("p",mo,I(v.name),1),v.country?(z(),q("span",fo,I(v.country),1)):pe("",!0)],8,uo)]))),128))],8,co)])])):pe("",!0)}}),xo=Object.assign(vo,{__name:"SectionTeams"}),go={id:"valencia",class:"py-20 md:py-32 relative overflow-hidden bg-peach-wash/30","aria-labelledby":"valencia-heading"},yo={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative z-10"},bo={id:"valencia-heading",class:"section-title text-gradient"},wo=["innerHTML"],_o={class:"font-display text-xl tracking-wide text-deep-navy dark:text-cream mb-2"},ko={class:"text-deep-navy/60 dark:text-cream/60 text-sm"},So=se({__name:"SectionValencia",setup(i){const{t:s}=ne(),{elementRef:e,isVisible:x}=de({threshold:.3}),h=U(()=>s.value.valencia.features?.length||4),{containerRef:g,isItemVisible:P,getItemStyle:$}=be(h,{staggerDelay:120,baseDelay:100}),m={beach:'<svg class="w-8 h-8" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z" /></svg>',food:'<svg class="w-8 h-8" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253" /></svg>',arts:'<svg class="w-8 h-8" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4" /></svg>',nightlife:'<svg class="w-8 h-8" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z" /></svg>'};return(d,v)=>(z(),q("section",go,[v[1]||(v[1]=o("div",{class:"absolute inset-0 bg-gradient-to-b from-transparent via-valencia-purple/5 to-transparent","aria-hidden":"true"},null,-1)),o("div",yo,[o("div",{ref_key:"titleRef",ref:e,class:X(["text-center mb-16 scroll-reveal",{"is-visible":c(x)}])},[o("h2",bo,I(c(s).valencia.title),1),v[0]||(v[0]=o("div",{class:"neon-divider","aria-hidden":"true"},null,-1))],2),o("ul",{ref_key:"featuresRef",ref:g,class:"grid md:grid-cols-2 lg:grid-cols-4 gap-8",role:"list","aria-label":"Valencia attractions"},[(z(!0),q(ue,null,he(c(s).valencia.features,(M,l)=>(z(),q("li",{key:l,class:X(["feature-card text-center group scroll-reveal hover-lift",{"is-visible":c(P)(l)}]),style:te(c($)(l))},[o("div",{class:"w-16 h-16 mx-auto mb-4 flex items-center justify-center rounded-full bg-gradient-to-br from-sunset-peach/30 to-neon-coral/20 text-valencia-purple group-hover:shadow-neon-purple transition-all",innerHTML:m[M.icon],"aria-hidden":"true"},null,8,wo),o("h3",_o,I(M.title),1),o("p",ko,I(M.description),1)],6))),128))],512)])]))}}),Mo=Object.assign(So,{__name:"SectionValencia"}),Po={id:"stats",class:"py-20 md:py-32 bg-cream/60 dark:bg-deep-navy/40 relative overflow-hidden","aria-labelledby":"stats-heading"},Co={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative z-10"},To={id:"stats-heading",class:"section-title text-gradient"},Bo={class:"glass-card p-8 md:p-12 hover:border-neon-coral/50 transition-all duration-300"},Io={class:"sr-only"},$o={class:"stat-number mb-4","aria-label":"stat.number"},Ro={class:"font-display text-xl tracking-wider text-deep-navy/80 dark:text-cream/80"},Ao=se({__name:"SectionStats",setup(i){const{t:s}=ne(),{elementRef:e,isVisible:x}=de({threshold:.3}),h=U(()=>s.value.stats.items?.length||3),{containerRef:g,isItemVisible:P,getItemStyle:$}=be(h,{staggerDelay:150,baseDelay:200});return(m,d)=>(z(),q("section",Po,[d[1]||(d[1]=o("div",{class:"absolute inset-0","aria-hidden":"true"},[o("div",{class:"absolute top-1/2 left-1/4 w-64 h-64 bg-neon-coral/10 rounded-full blur-3xl"}),o("div",{class:"absolute top-1/2 right-1/4 w-64 h-64 bg-electric-cyan/10 rounded-full blur-3xl"})],-1)),o("div",Co,[o("div",{ref_key:"titleRef",ref:e,class:X(["text-center mb-16 scroll-reveal",{"is-visible":c(x)}])},[o("h2",To,I(c(s).stats.title),1),d[0]||(d[0]=o("div",{class:"neon-divider","aria-hidden":"true"},null,-1))],2),o("dl",{ref_key:"statsRef",ref:g,class:"grid md:grid-cols-3 gap-8 md:gap-12","aria-label":"Tournament statistics"},[(z(!0),q(ue,null,he(c(s).stats.items,(v,M)=>(z(),q("div",{key:M,class:X(["text-center group scroll-reveal-scale",{"is-visible":c(P)(M)}]),style:te(c($)(M))},[o("div",Bo,[o("dt",Io,I(v.label),1),o("dd",$o,I(v.number),1),o("dt",Ro,I(v.label),1)])],6))),128))],512)])]))}}),Eo=Object.assign(Ao,{__name:"SectionStats"}),Fo={water:"#70BECF",waterLight:"#9ED2D5",waterDark:"#196CA0",poolEdge:"#73326D",laneLines:"#FFFFFF",whiteTeamCap:"#FCFBD9",whiteTeamBody:"#FFE4C4",blueTeamCap:"#196CA0",blueTeamBody:"#4A90A4",ball:"#FE6E81",goalFrame:"#FFFFFF",goalNet:"#CCCCCC"},Wo={canvasWidth:800,canvasHeight:480,poolBounds:{x:40,y:40,width:720,height:400},spriteSize:32,gameDuration:90,waterDrag:.96,waterDragQuadratic:8e-4,playerAcceleration:800,playerMaxSpeed:200,passSpeed:350,shotSpeed:450,aiReactionTime:150,goalWidth:20,goalHeight:100,colors:Fo,passAccuracyBase:.85,goalkeeperStealChance:.8,staminaSprintThreshold:50,staminaDrainRate:12,staminaRecoveryRate:8,collisionStunDuration:.15,protectionZoneRadius:80};function Oo(){const i=ve({...Wo}),s=()=>({x:i.poolBounds.x+i.poolBounds.width/2,y:i.poolBounds.y+i.poolBounds.height/2});return{config:i,getPoolCenter:s,getGoalPositions:()=>({left:{x:i.poolBounds.x,y:i.poolBounds.y+i.poolBounds.height/2-i.goalHeight/2},right:{x:i.poolBounds.x+i.poolBounds.width-i.goalWidth,y:i.poolBounds.y+i.poolBounds.height/2-i.goalHeight/2}}),getPlayerStartPositions:()=>{const h=s(),g=i.poolBounds.width/4;return{white:{goalkeeper:{x:i.poolBounds.x+60,y:h.y},attacker:{x:h.x-g/2,y:h.y-80},defender:{x:h.x-g/2,y:h.y+80}},blue:{goalkeeper:{x:i.poolBounds.x+i.poolBounds.width-60,y:h.y},attacker:{x:h.x+g/2,y:h.y-80},defender:{x:h.x+g/2,y:h.y+80}}}}}}const Y={up:!1,down:!1,left:!1,right:!1,pass:!1,shoot:!1,pause:!1,switchPlayer:!1},ae={pass:!1,shoot:!1,pause:!1,switchPlayer:!1},le={isMobile:!1,joystickActive:!1,joystickCenter:{x:0,y:0},joystickCurrent:{x:0,y:0}};function Se(i){switch(["ArrowUp","ArrowDown","ArrowLeft","ArrowRight","Space","KeyQ","KeyW","KeyE","KeyP","Escape"].includes(i.code)&&i.preventDefault(),i.code){case"ArrowUp":Y.up=!0;break;case"ArrowDown":Y.down=!0;break;case"ArrowLeft":Y.left=!0;break;case"ArrowRight":Y.right=!0;break;case"KeyQ":Y.pass=!0,ae.pass=!0;break;case"KeyW":Y.shoot=!0,ae.shoot=!0;break;case"KeyE":Y.switchPlayer=!0,ae.switchPlayer=!0;break;case"Space":Y.shoot=!0,ae.shoot=!0;break;case"Escape":case"KeyP":Y.pause=!0,ae.pause=!0;break}}function Me(i){switch(i.code){case"ArrowUp":Y.up=!1;break;case"ArrowDown":Y.down=!1;break;case"ArrowLeft":Y.left=!1;break;case"ArrowRight":Y.right=!1;break;case"KeyQ":Y.pass=!1;break;case"KeyW":case"Space":Y.shoot=!1;break;case"KeyE":Y.switchPlayer=!1;break;case"Escape":case"KeyP":Y.pause=!1;break}}function Pe(i){const s=i.touches[0];s&&s.clientX<window.innerWidth/2&&(le.joystickActive=!0,le.joystickCenter={x:s.clientX,y:s.clientY},le.joystickCurrent={x:s.clientX,y:s.clientY})}function Ce(i){if(le.joystickActive)for(let s=0;s<i.touches.length;s++){const e=i.touches[s];if(e&&e.clientX<window.innerWidth*.6){le.joystickCurrent={x:e.clientX,y:e.clientY};const x=le.joystickCurrent.x-le.joystickCenter.x,h=le.joystickCurrent.y-le.joystickCenter.y,g=15;Y.left=x<-g,Y.right=x>g,Y.up=h<-g,Y.down=h>g}}}function Te(i){let s=!1;for(let e=0;e<i.touches.length;e++){const x=i.touches[e];x&&x.clientX<window.innerWidth*.6&&(s=!0)}s||(le.joystickActive=!1,Y.up=!1,Y.down=!1,Y.left=!1,Y.right=!1)}function we(){typeof window<"u"&&(le.isMobile="ontouchstart"in window||navigator.maxTouchPoints>0||window.innerWidth<768)}function Do(){const i=ve(Y),s=ae,e=ve(le);return{inputState:i,pressedThisFrame:s,touchState:e,resetPressedThisFrame:()=>{ae.pass=!1,ae.shoot=!1,ae.pause=!1,ae.switchPlayer=!1},setupInputListeners:()=>{window.removeEventListener("keydown",Se,!0),window.removeEventListener("keyup",Me,!0),window.removeEventListener("touchstart",Pe),window.removeEventListener("touchmove",Ce),window.removeEventListener("touchend",Te),window.removeEventListener("resize",we),we(),window.addEventListener("keydown",Se,!0),window.addEventListener("keyup",Me,!0),window.addEventListener("touchstart",Pe,{passive:!0}),window.addEventListener("touchmove",Ce,{passive:!0}),window.addEventListener("touchend",Te,{passive:!0}),window.addEventListener("resize",we)},cleanupInputListeners:()=>{window.removeEventListener("keydown",Se,!0),window.removeEventListener("keyup",Me,!0),window.removeEventListener("touchstart",Pe),window.removeEventListener("touchmove",Ce),window.removeEventListener("touchend",Te),window.removeEventListener("resize",we)},triggerPass:()=>{Y.pass=!0,ae.pass=!0,setTimeout(()=>{Y.pass=!1},100)},triggerShoot:()=>{Y.shoot=!0,ae.shoot=!0,setTimeout(()=>{Y.shoot=!1},100)},triggerSwitch:()=>{Y.switchPlayer=!0,ae.switchPlayer=!0,setTimeout(()=>{Y.switchPlayer=!1},100)}}}function jo(i){const s=(l,k)=>{const f=l.x-k.x,w=l.y-k.y;return Math.sqrt(f*f+w*w)},e=l=>Math.sqrt(l.x*l.x+l.y*l.y),x=l=>{const k=e(l);return k===0?{x:0,y:0}:{x:l.x/k,y:l.y/k}},h=(l,k=0)=>{const f=i.poolBounds.x+k,w=i.poolBounds.x+i.poolBounds.width-k,R=i.poolBounds.y+k,A=i.poolBounds.y+i.poolBounds.height-k;l.x=Math.max(f,Math.min(w,l.x)),l.y=Math.max(R,Math.min(A,l.y))},g=(l,k)=>{for(const f of l.players){const w=e(f.velocity),R=i.waterDragQuadratic*w*w,A=Math.max(.85,i.waterDrag-R);f.velocity.x*=A,f.velocity.y*=A;const p=.7+f.stamina/100*.3,E=f.maxSpeed*p;if(w>E&&(f.velocity.x=f.velocity.x/w*E,f.velocity.y=f.velocity.y/w*E),f.position.x+=f.velocity.x*k,f.position.y+=f.velocity.y*k,h(f.position,i.spriteSize/2),w>i.staminaSprintThreshold)f.stamina=Math.max(0,f.stamina-i.staminaDrainRate*k);else if(w<30){const Q=w<10?1.5:1;f.stamina=Math.min(100,f.stamina+i.staminaRecoveryRate*Q*k)}else f.stamina=Math.min(100,f.stamina+i.staminaRecoveryRate*.3*k)}if(l.ball.isInFlight){const w=.995-e(l.ball.velocity)*2e-5;l.ball.velocity.x*=Math.max(.98,w),l.ball.velocity.y*=Math.max(.98,w),l.ball.position.x+=l.ball.velocity.x*k,l.ball.position.y+=l.ball.velocity.y*k,h(l.ball.position,8),e(l.ball.velocity)<10&&(l.ball.isInFlight=!1,l.ball.velocity={x:0,y:0},l.ball.targetPosition=null)}else if(l.ball.holder){const f=l.ball.holder.direction==="left"?-12:l.ball.holder.direction==="right"?12:0,w=l.ball.holder.direction==="up"?-12:l.ball.holder.direction==="down"?12:0;l.ball.position.x=l.ball.holder.position.x+f,l.ball.position.y=l.ball.holder.position.y+w}},P=(l,k,f,w,R)=>l.x>=k&&l.x<=k+w&&l.y>=f&&l.y<=f+R,$=l=>{let k=!1,f=null;if(!l.ball.holder&&!l.ball.isInFlight){let R=null,A=i.spriteSize*1.5;for(const p of l.players){const E=s(p.position,l.ball.position);E<A&&(A=E,R=p)}R&&(l.players.forEach(p=>p.hasBall=!1),R.hasBall=!0,l.ball.holder=R)}if(l.ball.isInFlight){for(const R of l.players)if(s(R.position,l.ball.position)<i.spriteSize*.9){l.players.forEach(p=>p.hasBall=!1),R.hasBall=!0,l.ball.holder=R,l.ball.isInFlight=!1,l.ball.velocity={x:0,y:0},l.ball.targetPosition=null;break}}for(const R of l.goals)if(P(l.ball.position,R.bounds.x,R.bounds.y,R.bounds.width,R.bounds.height)){f=R.team==="white"?"blue":"white",k=!0;break}const w=l.players.find(R=>R.role==="goalkeeper"&&R.hasBall);if(w){const R=i.protectionZoneRadius;for(const A of l.players){if(A.team===w.team)continue;const p=s(A.position,w.position);if(p<R){const E=x({x:A.position.x-w.position.x,y:A.position.y-w.position.y}),K=(1-p/R)*.2;A.position.x+=E.x*K*R*.1,A.position.y+=E.y*K*R*.1,A.velocity.x+=E.x*K*150,A.velocity.y+=E.y*K*150,A.velocity.x*=.92,A.velocity.y*=.92,h(A.position,i.spriteSize/2)}}}for(let R=0;R<l.players.length;R++)for(let A=R+1;A<l.players.length;A++){const p=l.players[R],E=l.players[A];if(!p||!E)continue;const Q=s(p.position,E.position),K=i.spriteSize*.8;if(Q<K&&Q>0){const ee=p.velocity.x-E.velocity.x,r=p.velocity.y-E.velocity.y,a=e({x:ee,y:r});if(p.team!==E.team){const O=p.hasBall?p:E.hasBall?E:null,t=p.hasBall?E:E.hasBall?p:null;if(O&&t){const n=O.isControlled?.5:1;if(t.role==="goalkeeper"){const b=l.players.filter(y=>y.team!==t.team&&y.role!=="goalkeeper"&&s(y.position,t.position)<60).length*.1,_=Math.max(.4,i.goalkeeperStealChance-b)*n;Math.random()<_&&(O.hasBall=!1,t.hasBall=!0,l.ball.holder=t,l.ball.isInFlight=!1,l.ball.velocity={x:0,y:0})}else if(O.role!=="goalkeeper"){const b=x({x:t.position.x-O.position.x,y:t.position.y-O.position.y}),_={x:O.direction==="right"?1:O.direction==="left"?-1:0,y:O.direction==="down"?1:O.direction==="up"?-1:0},S=(1-(b.x*_.x+b.y*_.y))*.15,W=e(t.velocity),D=Math.min(.2,W/400),j=(100-O.stamina)/500,G=(.15+S+D+j)*n;Math.random()<G&&(O.hasBall=!1,t.hasBall=!0,l.ball.holder=t,l.ball.isInFlight=!1,l.ball.velocity={x:0,y:0})}}}const T=K-Q,F=x({x:p.position.x-E.position.x,y:p.position.y-E.position.y});if(p.position.x+=F.x*T*.5,p.position.y+=F.y*T*.5,E.position.x-=F.x*T*.5,E.position.y-=F.y*T*.5,a>30){const O=Math.min(.5,a/200);p.velocity.x+=F.x*a*O*.3,p.velocity.y+=F.y*a*O*.3,E.velocity.x-=F.x*a*O*.3,E.velocity.y-=F.y*a*O*.3}h(p.position,i.spriteSize/2),h(E.position,i.spriteSize/2)}}return{goalScored:k,scoringTeam:f}},m=(l,k,f)=>{let w=i.passAccuracyBase;const R=s(l.position,k.position),A=Math.min(.2,R/1500);w-=A;const p=(100-l.stamina)/500;w-=p;const Q=f.players.filter(K=>K.team!==l.team&&s(K.position,l.position)<50).length*.08;return w-=Q,Math.max(.4,Math.min(1,w))},d=(l,k,f)=>{if(!k.hasBall)return;const w=s(k.position,f.position);if(w<50){k.hasBall=!1,f.hasBall=!0,l.ball.holder=f,l.ball.isInFlight=!1,l.ball.velocity={x:0,y:0},l.ball.targetPosition=null;return}k.hasBall=!1,l.ball.holder=null,l.ball.isInFlight=!0;const A=(1-m(k,f,l))*60,p=(Math.random()-.5)*A,E=(Math.random()-.5)*A,Q={x:f.position.x+p,y:f.position.y+E};l.ball.targetPosition=Q;const K=x({x:Q.x-k.position.x,y:Q.y-k.position.y}),ee=.85+k.stamina/100*.15,r=150*ee,a=Math.min(1,w/200),T=r+(i.passSpeed*ee-r)*a;l.ball.velocity={x:K.x*T,y:K.y*T}},v=(l,k)=>{let f=.75;const w=(100-l.stamina)/400;f-=w;const R=l.team==="white"?i.poolBounds.x+i.poolBounds.width:i.poolBounds.x,A=Math.abs(l.position.x-R),p=Math.min(.2,A/2e3);f-=p;const Q=k.players.filter(K=>K.team!==l.team&&s(K.position,l.position)<60).length*.1;return f-=Q,Math.max(.3,Math.min(.9,f))};return{distance:s,magnitude:e,normalize:x,clampToPoolBounds:h,applyWaterPhysics:g,checkCollisions:$,passBall:d,shootBall:(l,k,f)=>{if(!k.hasBall)return;k.hasBall=!1,l.ball.holder=null,l.ball.isInFlight=!0;const w={x:f.position.x+f.width/2,y:f.position.y+f.height/2},R=v(k,l),A=f.height*(1-R),p=(Math.random()-.5)*A;w.y+=p,l.ball.targetPosition=w;const E=x({x:w.x-k.position.x,y:w.y-k.position.y}),Q=.8+k.stamina/100*.2,K=i.shotSpeed*Q;l.ball.velocity={x:E.x*K,y:E.y*K}}}}const Lo={white:{speedMultiplier:1,reactionSpeed:1,decisionQuality:.85,interceptSkill:1,positioningSkill:.9,pressureAwareness:.8},blue:{speedMultiplier:1,reactionSpeed:1,decisionQuality:.85,interceptSkill:1,positioningSkill:.9,pressureAwareness:.8}},Vo={attacker:{xOffset:.3,yOffset:-.25},defender:{xOffset:.1,yOffset:.25},goalkeeper:{xOffset:-.35,yOffset:0}},Go={attacker:{xOffset:-.1,yOffset:-.2},defender:{xOffset:-.25,yOffset:.2},goalkeeper:{xOffset:-.4,yOffset:0}},ie={shoot:{clearPath:.4,stamina:.15,goaliePosition:.15},pass:{teammateOpenness:.35,advancePosition:.25,safeDistance:.25,pressureRelief:.15},hold:{noDefenders:.4,advancingToGoal:.3,teamNotReady:.3}};function Ho(i){const s=t=>Lo[t],e=(t,n)=>{const u=t.x-n.x,b=t.y-n.y;return Math.sqrt(u*u+b*b)},x=t=>Math.sqrt(t.x*t.x+t.y*t.y),h=t=>{const n=Math.sqrt(t.x*t.x+t.y*t.y);return n===0?{x:0,y:0}:{x:t.x/n,y:t.y/n}},g=(t,n,u)=>({x:t.x+(n.x-t.x)*u,y:t.y+(n.y-t.y)*u}),P=(t,n)=>t.x*n.x+t.y*n.y,$=(t,n)=>t.ball.isInFlight?{x:t.ball.position.x+t.ball.velocity.x*n,y:t.ball.position.y+t.ball.velocity.y*n}:t.ball.position,m=(t,n)=>n.players.filter(u=>u.team===t.team&&u.id!==t.id),d=(t,n)=>n.players.filter(u=>u.team!==t.team),v=(t,n)=>n.goals.find(u=>u.team===t.team),M=(t,n)=>n.goals.find(u=>u.team!==t.team),l=(t,n)=>{const u=d(t,n);let b=0;for(const _ of u){const y=e(t.position,_.position);if(y<100){b+=(100-y)/100;const S=h({x:t.position.x-_.position.x,y:t.position.y-_.position.y}),W=h(_.velocity);P(S,W)>.5&&(b+=.3)}}return Math.min(1,b)},k=(t,n,u,b=30)=>{const _=h({x:n.x-t.x,y:n.y-t.y}),y=e(t,n);for(const S of u){const W={x:S.position.x-t.x,y:S.position.y-t.y},D=P(W,_);if(D>0&&D<y){const j={x:t.x+_.x*D,y:t.y+_.y*D};if(e(j,S.position)<b)return!1}}return!0},f=(t,n)=>{const _=(n.players.some(G=>G.team===t.team&&G.hasBall)?Vo:Go)[t.role]||{xOffset:0,yOffset:0},y=i.poolBounds.x+i.poolBounds.width/2,S=i.poolBounds.y+i.poolBounds.height/2,W=i.poolBounds.width/2-60,D=i.poolBounds.height/2-40,j=t.team==="white"?1:-1;return{x:y+_.xOffset*W*j,y:S+_.yOffset*D}},w=(t,n)=>{const u=m(t,n);if(u.length===0)return null;let b=null,_=1/0;for(const y of u){const S=e(y.position,n.ball.position);S<_&&(_=S,b=y)}return b},R=(t,n,u)=>{const b=d(t,u),_=M(t,u),y={x:_.position.x,y:_.position.y+_.height/2};let S=50,W=1/0;for(const B of b){const C=e(n.position,B.position);C<W&&(W=C)}const D=Math.min(40,W/3);S+=D*ie.pass.teammateOpenness;const j=e(t.position,y);e(n.position,y)<j&&(S+=30*ie.pass.advancePosition),k(t.position,n.position,b,25)?S+=35*ie.pass.safeDistance:S-=20;const V=l(t,u),J=l(n,u);return V>.5&&J<.3&&(S+=25*ie.pass.pressureRelief),Math.max(0,Math.min(100,S))},A=(t,n)=>{const u=M(t,n),b={x:u.position.x,y:u.position.y+u.height/2},_=d(t,n);let y=30;const S=e(t.position,b),W=300,D=Math.max(0,(W-S)/W)*40;y+=D*1.3;const j=_.find(V=>V.role==="goalkeeper"),G=_.filter(V=>V.role!=="goalkeeper");return k(t.position,b,G,20)?y+=30*ie.shoot.clearPath:y-=25,y+=t.stamina/100*15*ie.shoot.stamina,j&&e(j.position,b)>50&&(y+=20*ie.shoot.goaliePosition),S<150&&(y+=15),Math.max(0,Math.min(100,y))},p=(t,n)=>{const u=M(t,n),b={x:u.position.x,y:u.position.y+u.height/2};let _=40;const y=l(t,n);y<.3?_+=30*ie.hold.noDefenders:_-=y*40;const S=h({x:b.x-t.position.x,y:b.y-t.position.y}),W=h(t.velocity);P(S,W)>.5&&(_+=25*ie.hold.advancingToGoal);const j=m(t,n).filter(V=>V.role!=="goalkeeper");let G=0;for(const V of j){const J=f(V,n);e(V.position,J)<60&&G++}return G<j.length*.5&&(_+=20*ie.hold.teamNotReady),Math.max(0,Math.min(100,_))},E=(t,n)=>{const u=m(t,n).filter(y=>y.role!=="goalkeeper");let b=null,_=30;for(const y of u){const S=R(t,y,n);S>_&&(_=S,b=y)}return b},Q=(t,n)=>{let u=m(t,n).filter(j=>j.role!=="goalkeeper");if(u.length===0&&(u=m(t,n)),u.length===0)return null;let b=0,_=0;switch(t.direction){case"right":b=1;break;case"left":b=-1;break;case"up":_=-1;break;case"down":_=1;break}let y=null,S=-1/0,W=null,D=1/0;for(const j of u){const G={x:j.position.x-t.position.x,y:j.position.y-t.position.y},V=Math.sqrt(G.x*G.x+G.y*G.y);if(V<D&&(D=V,W=j),V<1)continue;const J={x:G.x/V,y:G.y/V},C=(J.x*b+J.y*_)*100+1e3/(V+50);C>S&&(S=C,y=j)}return y||W},K=(t,n)=>{const u=n.players.some(y=>y.team===t.team&&y.hasBall),b=n.players.some(y=>y.team!==t.team&&y.hasBall),_=t.hasBall;if(t.role==="goalkeeper")return"goalkeeper";if(!n.ball.holder&&!n.ball.isInFlight){const y=e(t.position,n.ball.position),S=w(t,n);return!S||y<e(S.position,n.ball.position)?"chase_ball":u?"support":"defend"}return _?"attack":u?"support":b||n.ball.isInFlight?t.role==="defender"?"intercept":"defend":"return_position"},ee=(t,n,u,b=1)=>{const _={x:n.x-t.position.x,y:n.y-t.position.y};if(Math.sqrt(_.x*_.x+_.y*_.y)<5)return;const S=s(t.team),W=h(_),D=i.playerAcceleration*b*S.speedMultiplier;t.velocity.x+=W.x*D*u,t.velocity.y+=W.y*D*u,Math.abs(W.x)>Math.abs(W.y)?t.direction=W.x>0?"right":"left":t.direction=W.y>0?"down":"up",t.animationState="swim"},r=(t,n,u)=>{const b=v(t,n),_=b.position.y+b.height/2,y=s(t.team);let S=_,W=t.homePosition.x;const j=d(t,n).filter(V=>(t.team==="white"?V.position.x<i.poolBounds.x+i.poolBounds.width/2:V.position.x>i.poolBounds.x+i.poolBounds.width/2)&&V.role!=="goalkeeper");if(n.ball.holder&&n.ball.holder.team!==t.team){const V=n.ball.holder,J=e(V.position,{x:b.position.x,y:_});if((t.team==="white"?V.direction==="left":V.direction==="right")&&J<250){const C={x:b.position.x-V.position.x,y:_-V.position.y};if(S=_+C.y*.4,j.length<=1){const L=Math.min(30,J*.1);W=t.team==="white"?t.homePosition.x+L:t.homePosition.x-L}}else S=n.ball.position.y}else if(n.ball.isInFlight){const V=t.team==="white"?(b.position.x-n.ball.position.x)/(n.ball.velocity.x||1):(b.position.x-n.ball.position.x)/(n.ball.velocity.x||-1);V>0&&V<2&&(S=$(n,Math.min(.5,V)).y)}S=Math.max(b.position.y+15,Math.min(b.position.y+b.height-15,S)),j.length>=2&&(W=t.homePosition.x),ee(t,{x:W,y:S},u,1.3*y.speedMultiplier)},a=(t,n,u)=>{const b=t.aiState,_=s(t.team);switch(b){case"goalkeeper":r(t,n,u);break;case"chase_ball":{const y=.3*_.reactionSpeed,S=n.ball.isInFlight?$(n,y):n.ball.position;ee(t,S,u,1.1);break}case"attack":{const y=M(t,n),S={x:y.position.x+y.width/2,y:y.position.y+y.height/2};if(l(t,n)>.6){const D=d(t,n);let j={x:0,y:0},G=0;const V=[{x:1,y:0},{x:-1,y:0},{x:0,y:1},{x:0,y:-1},{x:.7,y:.7},{x:.7,y:-.7},{x:-.7,y:.7},{x:-.7,y:-.7}];for(const B of V){const C={x:t.position.x+B.x*50,y:t.position.y+B.y*50};let H=1/0;for(const L of D){const N=e(C,L.position);N<H&&(H=N)}H>G&&(G=H,j=B)}const J={x:t.position.x+j.x*80,y:t.position.y+j.y*80};ee(t,J,u,1)}else{const D=_.decisionQuality*.5,j=g(t.position,S,D);ee(t,j,u,1)}break}case"defend":{const y=v(t,n),S={x:y.position.x+y.width/2,y:y.position.y+y.height/2},W=d(t,n).filter(G=>G.role!=="goalkeeper");let D=null,j=1/0;for(const G of W){const V=e(G.position,n.ball.position),J=e(G.position,S),B=V+J*.5;B<j&&(j=B,D=G)}if(D){const G=g(D.position,S,.3);ee(t,G,u,1)}else{const G=f(t,n);ee(t,G,u,.8)}break}case"support":{const y=n.players.find(W=>W.hasBall),S=M(t,n);if(y&&y.id!==t.id){const W=h({x:S.position.x-y.position.x,y:S.position.y+S.height/2-y.position.y}),D=t.role==="attacker"?60:-60,j={x:y.position.x+W.x*100+-W.y*D,y:y.position.y+W.y*100+W.x*D};j.x=Math.max(i.poolBounds.x+50,Math.min(i.poolBounds.x+i.poolBounds.width-50,j.x)),j.y=Math.max(i.poolBounds.y+50,Math.min(i.poolBounds.y+i.poolBounds.height-50,j.y)),ee(t,j,u,.9)}else{const W=f(t,n);ee(t,W,u,.8)}break}case"intercept":{if(n.ball.isInFlight&&n.ball.targetPosition){const y=x(n.ball.velocity),S=e(n.ball.position,n.ball.targetPosition)/(y||1),W=Math.min(.5,S*.6),D=$(n,W);e(t.position,D)/(t.maxSpeed*.8)<S*1.2?ee(t,D,u,1.3):ee(t,n.ball.targetPosition,u,1.1)}else n.ball.holder&&ee(t,n.ball.holder.position,u,1.1);break}default:{const y=f(t,n);ee(t,y,u,.7);break}}};return{updateAI:(t,n)=>{for(const u of t.players)u.isControlled||(u.aiState=K(u,t),a(u,t,n))},shouldAIPass:(t,n)=>{if(!t.hasBall||t.isControlled)return null;const u=s(t.team);if(t.role==="goalkeeper"){const H=E(t,n);if(H)return H;const L=m(t,n).filter(N=>N.role!=="goalkeeper");if(L.length>0){let N=L[0]??null,ce=0;for(const re of L){const fe=R(t,re,n);fe>ce&&(ce=fe,N=re)}return N}return null}const b=A(t,n),_=p(t,n),y=m(t,n).filter(H=>H.role!=="goalkeeper");let S=0,W=null;for(const H of y){const L=R(t,H,n);L>S&&(S=L,W=H)}const D=(1-u.decisionQuality)*20,j=b+(Math.random()-.5)*D,G=S+(Math.random()-.5)*D,V=_+(Math.random()-.5)*D,J=55,C=l(t,n)*25;return G+C>V&&G>J&&(G>j||b<60)?W:null},shouldAIShoot:(t,n)=>{if(!t.hasBall||t.isControlled||t.role==="goalkeeper")return null;const u=s(t.team),b=A(t,n),_=p(t,n),y=m(t,n).filter(V=>V.role!=="goalkeeper");let S=0;for(const V of y){const J=R(t,V,n);J>S&&(S=J)}const W=(1-u.decisionQuality)*15,D=b+(Math.random()-.5)*W;return D>60&&D>S&&D>_||l(t,n)>.7&&b>40?M(t,n):null},findOpenTeammate:E,findTeammateInDirection:Q,getEnemyGoal:M,getOwnGoal:v,distance:e,calculatePressure:l,evaluatePassOption:R,evaluateShotOpportunity:A}}function zo(i,s){const e=U(()=>i.value?.getContext("2d"));let x=0,h=null,g=!1;typeof window<"u"&&(h=new Image,h.onload=()=>{g=!0},h.src="/images/logo.png");const P=[],$=30,m=(r,a,T=1)=>{P.length>=$&&P.shift(),P.push({x:r,y:a,radius:5,maxRadius:20+T*15,alpha:.4*T})},d=()=>{for(let r=P.length-1;r>=0;r--){const a=P[r];a&&(a.radius+=1.5,a.alpha-=.02,(a.alpha<=0||a.radius>=a.maxRadius)&&P.splice(r,1))}},v=()=>{if(e.value)for(const r of P)e.value.strokeStyle=`rgba(255, 255, 255, ${r.alpha})`,e.value.lineWidth=2,e.value.beginPath(),e.value.arc(r.x,r.y,r.radius,0,Math.PI*2),e.value.stroke()},M=r=>{if(!e.value)return;const{poolBounds:a,colors:T}=s,F=e.value.createLinearGradient(a.x,a.y,a.x,a.y+a.height);F.addColorStop(0,T.water),F.addColorStop(.5,T.waterLight),F.addColorStop(1,T.water),e.value.fillStyle=F,e.value.fillRect(a.x,a.y,a.width,a.height),e.value.fillStyle=T.waterLight,e.value.globalAlpha=.15;for(let t=a.y;t<a.y+a.height;t+=12){const n=Math.sin(t*.05+r*2)*8,u=30+Math.sin(t*.03+r*1.5)*10;for(let b=a.x-20;b<a.x+a.width+20;b+=60){const _=b+n+Math.sin(r*3+b*.02)*5;_>a.x&&_+u<a.x+a.width&&e.value.fillRect(_,t,u,3)}}e.value.globalAlpha=.08;for(let t=a.x;t<a.x+a.width;t+=40){const n=Math.sin(t*.04+r*1.8)*6;for(let u=a.y;u<a.y+a.height;u+=50){const b=n+Math.cos(r*2+u*.03)*4;e.value.fillRect(t,u+b,4,20)}}e.value.fillStyle="#FFFFFF",e.value.globalAlpha=.2;for(let t=0;t<15;t++){const n=a.x+50+t*47%a.width,u=a.y+30+t*31%a.height,b=Math.sin(r*4+t*1.7);if(b>.7){const _=(b-.7)*10;e.value.fillRect(n,u,_,2),e.value.fillRect(n+_/2-1,u-_/2+1,2,_)}}if(e.value.globalAlpha=1,g&&h&&e.value){const n=h.height/h.width*180,u=a.x+a.width/2-180/2,b=a.y+a.height/2-n/2;e.value.save();const _=Math.sin(r*1.5)*3,y=Math.cos(r*1.2)*2;e.value.globalAlpha=.25,e.value.imageSmoothingEnabled=!1,e.value.drawImage(h,u+_,b+y,180,n),e.value.globalAlpha=.1,e.value.drawImage(h,u+_*1.5+2,b+y*1.5+2,180,n),e.value.restore()}e.value.fillStyle=T.laneLines,e.value.globalAlpha=.25;const O=a.height/4;for(let t=1;t<4;t++){const n=a.y+O*t;for(let u=a.x+50;u<a.x+a.width-50;u+=4){const b=Math.sin(u*.03+r*2)*1.5;e.value.fillRect(u,n+b-1,4,2)}}e.value.globalAlpha=1,e.value.fillStyle=T.poolEdge,e.value.fillRect(a.x-8,a.y-8,a.width+16,8),e.value.fillRect(a.x-8,a.y+a.height,a.width+16,8),e.value.fillRect(a.x-8,a.y-8,8,a.height+16),e.value.fillRect(a.x+a.width,a.y-8,8,a.height+16)},l=r=>{if(!e.value)return;const{colors:a}=s,T=r.team==="white";e.value.fillStyle=a.goalFrame,T?(e.value.fillRect(r.position.x-4,r.position.y-4,8,r.height+8),e.value.fillRect(r.position.x-4,r.position.y-4,24,4),e.value.fillRect(r.position.x-4,r.position.y+r.height,24,4)):(e.value.fillRect(r.position.x+r.width-4,r.position.y-4,8,r.height+8),e.value.fillRect(r.position.x+r.width-20,r.position.y-4,24,4),e.value.fillRect(r.position.x+r.width-20,r.position.y+r.height,24,4)),e.value.fillStyle=a.goalNet,e.value.globalAlpha=.5;for(let F=r.position.y;F<r.position.y+r.height;F+=8)for(let O=r.position.x;O<r.position.x+r.width;O+=8)e.value.fillRect(O,F,1,1);e.value.globalAlpha=1},k=r=>{if(!e.value)return;const a=Math.sqrt(r.velocity.x**2+r.velocity.y**2);if(a>30){const T=Math.min(a/150,1),F=r.position.x-r.velocity.x/a*15,O=r.position.y-r.velocity.y/a*15;Math.random()<.3&&m(F+(Math.random()-.5)*10,O+(Math.random()-.5)*10,T),e.value.fillStyle="rgba(255, 255, 255, 0.3)";const t=4+T*6;for(let n=0;n<3;n++){const u=(Math.random()-.5)*15-r.velocity.x/a*10,b=(Math.random()-.5)*15-r.velocity.y/a*10;e.value.fillRect(r.position.x+u,r.position.y+b,t*Math.random(),2)}}},f=r=>{if(!e.value)return;const{colors:a,spriteSize:T}=s,F=Math.floor(r.position.x-T/2),O=Math.floor(r.position.y-T/2);k(r);const t=r.team==="white"?a.whiteTeamBody:a.blueTeamBody,n=r.team==="white"?a.whiteTeamCap:a.blueTeamCap;e.value.strokeStyle="rgba(255, 255, 255, 0.2)",e.value.lineWidth=2,e.value.beginPath(),e.value.ellipse(F+T/2,O+T-2,14,7,0,0,Math.PI*2),e.value.stroke(),e.value.fillStyle="rgba(0, 0, 0, 0.2)",e.value.beginPath(),e.value.ellipse(F+T/2,O+T-4,12,6,0,0,Math.PI*2),e.value.fill(),e.value.fillStyle=t,e.value.fillRect(F+8,O+10,16,14);const u=r.animationState==="swim"?Math.sin(r.frameTimer*10)*4:0;e.value.fillRect(F+4,O+12+u,6,4),e.value.fillRect(F+22,O+12-u,6,4),e.value.fillStyle=n,e.value.fillRect(F+10,O+4,12,10),e.value.fillStyle=r.team==="white"?"#E0E0B0":"#104060",e.value.fillRect(F+10,O+8,12,2),e.value.fillStyle="#333333";let b=F+14,_=O+10;switch(r.direction){case"up":_=O+6;break;case"down":_=O+12;break;case"left":b=F+11;break;case"right":b=F+17;break}if(e.value.fillRect(b,_,2,2),e.value.fillRect(b+4,_,2,2),r.isControlled&&(e.value.strokeStyle="#FFD700",e.value.lineWidth=2,e.value.beginPath(),e.value.arc(F+T/2,O+T/2,T/2+4,0,Math.PI*2),e.value.stroke(),e.value.fillStyle="#FFD700",e.value.beginPath(),e.value.moveTo(F+T/2,O-8),e.value.lineTo(F+T/2-6,O-16),e.value.lineTo(F+T/2+6,O-16),e.value.closePath(),e.value.fill()),r.hasBall&&(e.value.fillStyle=a.ball,e.value.beginPath(),e.value.arc(F+T/2,O-4,3,0,Math.PI*2),e.value.fill()),r.stamina<70||r.isControlled){const W=F+(T-24)/2,D=O+T+4;e.value.fillStyle="rgba(0, 0, 0, 0.5)",e.value.fillRect(W-1,D-1,26,5);let j="#4ADE80";r.stamina<30?j="#EF4444":r.stamina<50&&(j="#F59E0B");const G=r.stamina/100*24;e.value.fillStyle=j,e.value.fillRect(W,D,G,3)}},w=r=>{if(!e.value)return;const{colors:a}=s,T=Math.floor(r.position.x),F=Math.floor(r.position.y);r.isInFlight&&Math.sqrt(r.velocity.x**2+r.velocity.y**2)>50&&Math.random()<.2&&m(T,F,.5),e.value.strokeStyle="rgba(255, 255, 255, 0.25)",e.value.lineWidth=1.5,e.value.beginPath(),e.value.ellipse(T,F+3,9,4,0,0,Math.PI*2),e.value.stroke(),e.value.fillStyle="rgba(0, 0, 0, 0.2)",e.value.beginPath(),e.value.ellipse(T,F+4,6,3,0,0,Math.PI*2),e.value.fill(),e.value.fillStyle=a.ball,e.value.beginPath(),e.value.arc(T,F,8,0,Math.PI*2),e.value.fill(),e.value.fillStyle="#FFFFFF",e.value.globalAlpha=.5,e.value.beginPath(),e.value.arc(T-2,F-2,3,0,Math.PI*2),e.value.fill(),e.value.globalAlpha=1,e.value.strokeStyle="#FFFFFF",e.value.lineWidth=1,e.value.globalAlpha=.3,e.value.beginPath(),e.value.moveTo(T-6,F),e.value.lineTo(T+6,F),e.value.stroke(),e.value.beginPath(),e.value.moveTo(T,F-6),e.value.lineTo(T,F+6),e.value.stroke(),e.value.globalAlpha=1},R=r=>{if(!e.value)return;const a=r.players.find(T=>T.role==="goalkeeper"&&T.hasBall);if(a){const F=x*3%(Math.PI*2),O=.15+Math.sin(F)*.05;e.value.strokeStyle=`rgba(255, 255, 255, ${O})`,e.value.lineWidth=2,e.value.setLineDash([8,4]),e.value.beginPath(),e.value.arc(a.position.x,a.position.y,80,0,Math.PI*2),e.value.stroke(),e.value.fillStyle=`rgba(255, 255, 255, ${O*.3})`,e.value.beginPath(),e.value.arc(a.position.x,a.position.y,80,0,Math.PI*2),e.value.fill(),e.value.setLineDash([])}},A=r=>{if(!e.value)return;e.value.fillStyle="rgba(0, 0, 0, 0.7)",e.value.fillRect(s.canvasWidth/2-80,4,160,32),e.value.fillStyle="#FCFBD9",e.value.font='bold 20px "Press Start 2P", monospace',e.value.textAlign="center",e.value.fillText(`${r.score.white} - ${r.score.blue}`,s.canvasWidth/2,28),e.value.font='10px "Press Start 2P", monospace',e.value.fillStyle=s.colors.whiteTeamCap,e.value.textAlign="right",e.value.fillText("WHT",s.canvasWidth/2-50,28),e.value.fillStyle=s.colors.blueTeamCap,e.value.textAlign="left",e.value.fillText("BLU",s.canvasWidth/2+50,28);const a=Math.floor(r.time/60),T=Math.floor(r.time%60),F=`${a}:${T.toString().padStart(2,"0")}`;e.value.fillStyle="rgba(0, 0, 0, 0.7)",e.value.fillRect(s.canvasWidth-70,4,66,24),e.value.fillStyle=r.time<=30?"#FE6E81":"#FCFBD9",e.value.font='12px "Press Start 2P", monospace',e.value.textAlign="center",e.value.fillText(F,s.canvasWidth-37,22)},p=r=>{e.value&&(e.value.fillStyle="rgba(0, 0, 0, 0.5)",e.value.fillRect(0,0,s.canvasWidth,s.canvasHeight),e.value.fillStyle="#FCFBD9",e.value.font='bold 72px "Press Start 2P", monospace',e.value.textAlign="center",e.value.textBaseline="middle",e.value.fillText(r>0?r.toString():"GO!",s.canvasWidth/2,s.canvasHeight/2))},E=r=>{if(!e.value)return;e.value.fillStyle="rgba(0, 0, 0, 0.6)",e.value.fillRect(0,0,s.canvasWidth,s.canvasHeight);const a=r==="white"?s.colors.whiteTeamCap:s.colors.blueTeamCap;e.value.fillStyle=a,e.value.font='bold 48px "Press Start 2P", monospace',e.value.textAlign="center",e.value.textBaseline="middle",e.value.fillText("GOAL!",s.canvasWidth/2,s.canvasHeight/2),e.value.fillStyle="#FCFBD9",e.value.font='16px "Press Start 2P", monospace',e.value.fillText(`${r.toUpperCase()} TEAM SCORES!`,s.canvasWidth/2,s.canvasHeight/2+50)},Q=r=>{if(!e.value)return;e.value.fillStyle="rgba(0, 0, 0, 0.8)",e.value.fillRect(0,0,s.canvasWidth,s.canvasHeight),e.value.fillStyle="#FCFBD9",e.value.font='bold 36px "Press Start 2P", monospace',e.value.textAlign="center",e.value.textBaseline="middle",e.value.fillText("GAME OVER",s.canvasWidth/2,s.canvasHeight/2-60),e.value.font='bold 48px "Press Start 2P", monospace',e.value.fillText(`${r.score.white} - ${r.score.blue}`,s.canvasWidth/2,s.canvasHeight/2);let a="DRAW!";r.score.white>r.score.blue?(a="WHITE WINS!",e.value.fillStyle=s.colors.whiteTeamCap):r.score.blue>r.score.white&&(a="BLUE WINS!",e.value.fillStyle=s.colors.blueTeamCap),e.value.font='20px "Press Start 2P", monospace',e.value.fillText(a,s.canvasWidth/2,s.canvasHeight/2+60),e.value.fillStyle="#70BECF",e.value.font='12px "Press Start 2P", monospace',e.value.fillText("PRESS SPACE TO PLAY AGAIN",s.canvasWidth/2,s.canvasHeight/2+110)},K=()=>{e.value&&(e.value.fillStyle="rgba(0, 0, 0, 0.6)",e.value.fillRect(0,0,s.canvasWidth,s.canvasHeight),e.value.fillStyle="#FCFBD9",e.value.font='bold 36px "Press Start 2P", monospace',e.value.textAlign="center",e.value.textBaseline="middle",e.value.fillText("PAUSED",s.canvasWidth/2,s.canvasHeight/2),e.value.fillStyle="#70BECF",e.value.font='12px "Press Start 2P", monospace',e.value.fillText("PRESS ESC TO RESUME",s.canvasWidth/2,s.canvasHeight/2+50))};return{render:r=>{if(!e.value||!i.value)return;x+=.016,d(),e.value.fillStyle="#0E2433",e.value.fillRect(0,0,s.canvasWidth,s.canvasHeight),M(x),v();for(const T of r.goals)l(T);R(r);const a=[...r.players].sort((T,F)=>T.position.y-F.position.y);r.ball.holder||w(r.ball);for(const T of a)f(T),T.hasBall&&w(r.ball);switch(A(r),r.phase){case"countdown":p(r.countdownValue);break;case"goal_scored":r.lastGoalTeam&&E(r.lastGoalTeam);break;case"paused":K();break;case"game_over":Q(r);break}},drawCountdown:p,drawGoalScored:E,drawGameOver:Q,drawPaused:K}}function qo(){const i=ve({whistle:null,splash:null,goal:null}),s=Z(!1),e=Z(!1),x=()=>{if(!(typeof window>"u"))try{i.whistle=new Audio("/sounds/whistle.mp3"),i.whistle.volume=.5,i.splash=new Audio("/sounds/splash.mp3"),i.splash.volume=.3,i.goal=new Audio("/sounds/goal.mp3"),i.goal.volume=.6,s.value=!0}catch(v){console.warn("Could not load game audio:",v)}},h=v=>{if(!(e.value||!i[v]))try{const M=i[v];M.currentTime=0,M.play().catch(()=>{})}catch{}};return{isLoaded:s,isMuted:e,loadAudio:x,playWhistle:()=>h("whistle"),playSplash:()=>h("splash"),playGoal:()=>h("goal"),toggleMute:()=>{e.value=!e.value},cleanup:()=>{i.whistle&&i.whistle.pause(),i.splash&&i.splash.pause(),i.goal&&i.goal.pause()}}}const Ee=globalThis.setInterval;function Yo(i){const{config:s,getPoolCenter:e,getGoalPositions:x,getPlayerStartPositions:h}=Oo(),{inputState:g,pressedThisFrame:P,touchState:$,resetPressedThisFrame:m,setupInputListeners:d,cleanupInputListeners:v,triggerPass:M,triggerShoot:l,triggerSwitch:k}=Do(),f=jo(s),w=Ho(s),R=zo(i,s),A=qo();let p=null,E=0;const Q=(B,C,H,L,N=!1)=>({id:B,position:{...L},velocity:{x:0,y:0},team:C,role:H,isControlled:N,hasBall:!1,stamina:100,maxSpeed:s.playerMaxSpeed,direction:C==="white"?"right":"left",aiState:"idle",targetPosition:null,homePosition:{...L},animationState:"idle",frameIndex:0,frameTimer:0}),K=()=>({position:{...e()},velocity:{x:0,y:0},holder:null,isInFlight:!1,targetPosition:null,frameIndex:0,frameTimer:0}),ee=()=>{const B=x();return[{team:"white",position:B.left,width:s.goalWidth,height:s.goalHeight,bounds:{x:B.left.x-10,y:B.left.y,width:s.goalWidth+10,height:s.goalHeight}},{team:"blue",position:B.right,width:s.goalWidth,height:s.goalHeight,bounds:{x:B.right.x,y:B.right.y,width:s.goalWidth+10,height:s.goalHeight}}]},r=()=>{const B=h();return[Q("white-gk","white","goalkeeper",B.white.goalkeeper),Q("white-att","white","attacker",B.white.attacker,!0),Q("white-def","white","defender",B.white.defender),Q("blue-gk","blue","goalkeeper",B.blue.goalkeeper),Q("blue-att","blue","attacker",B.blue.attacker),Q("blue-def","blue","defender",B.blue.defender)]},a=ve({phase:"menu",score:{white:0,blue:0},time:s.gameDuration,players:r(),ball:K(),goals:ee(),controlledPlayerId:"white-att",lastGoalTeam:null,countdownValue:3}),T=()=>a.players.find(B=>B.id===a.controlledPlayerId),F=()=>{const B=a.players.filter(N=>N.team==="white"&&N.role!=="goalkeeper"),H=(B.findIndex(N=>N.id===a.controlledPlayerId)+1)%B.length;for(const N of a.players)N.isControlled=!1;const L=B[H];L&&(L.isControlled=!0,a.controlledPlayerId=L.id)},O=()=>{const B=a.players.find(C=>C.team==="white"&&C.hasBall&&C.role!=="goalkeeper");if(B&&B.id!==a.controlledPlayerId){for(const C of a.players)C.isControlled=!1;B.isControlled=!0,a.controlledPlayerId=B.id}},t=()=>{const B=h(),C=e();for(const L of a.players){L.velocity={x:0,y:0},L.hasBall=!1,L.animationState="idle",L.isControlled=!1;const N=B[L.team];L.position={...N[L.role]},L.homePosition={...N[L.role]},L.direction=L.team==="white"?"right":"left"}const H=a.players.find(L=>L.id==="white-att");H&&(H.isControlled=!0,a.controlledPlayerId="white-att"),a.ball.position={...C},a.ball.velocity={x:0,y:0},a.ball.holder=null,a.ball.isInFlight=!1,a.ball.targetPosition=null},n=B=>{const C=T();if(!C)return;let H=0,L=0;if(g.up&&(L-=1),g.down&&(L+=1),g.left&&(H-=1),g.right&&(H+=1),H!==0||L!==0){const N=Math.sqrt(H*H+L*L);H/=N,L/=N;const ce=.5+C.stamina/100*.5;C.velocity.x+=H*s.playerAcceleration*ce*B,C.velocity.y+=L*s.playerAcceleration*ce*B,Math.abs(H)>Math.abs(L)?C.direction=H>0?"right":"left":C.direction=L>0?"down":"up",C.animationState="swim"}else C.animationState="idle";if(P.pass&&C.hasBall){let N=w.findTeammateInDirection(C,a);if(N||(N=w.findOpenTeammate(C,a)),!N){const ce=a.players.filter(re=>re.team===C.team&&re.id!==C.id&&re.role!=="goalkeeper");if(ce.length>0){let re=1/0;for(const fe of ce){const Re=w.distance(C.position,fe.position);Re<re&&(re=Re,N=fe)}}}N&&(f.passBall(a,C,N),A.playSplash())}if(P.shoot&&C.hasBall){const N=w.getEnemyGoal(C,a);f.shootBall(a,C,N),A.playSplash()}},u=B=>{for(const C of a.players)C.frameTimer+=B,C.frameTimer>.15&&(C.frameTimer=0,C.frameIndex=(C.frameIndex+1)%4);a.ball.frameTimer+=B,a.ball.frameTimer>.1&&(a.ball.frameTimer=0,a.ball.frameIndex=(a.ball.frameIndex+1)%4)},b=()=>{for(const B of a.players){if(B.isControlled)continue;const C=w.shouldAIPass(B,a);if(C){f.passBall(a,B,C),A.playSplash();continue}const H=w.shouldAIShoot(B,a);H&&(f.shootBall(a,B,H),A.playSplash())}},_=B=>{try{a.score[B]++,a.lastGoalTeam=B,a.phase="goal_scored",A.playGoal(),setTimeout(()=>{try{t(),a.phase="countdown",a.countdownValue=3;const C=Ee(()=>{try{a.countdownValue--,a.countdownValue<=0&&(clearInterval(C),a.phase="playing",A.playWhistle())}catch(H){console.error("[GAME] Countdown interval error:",H),clearInterval(C),a.phase="playing"}},1e3)}catch(C){console.error("[GAME] Goal reset timeout error:",C),a.phase="playing"}},2e3)}catch(C){console.error("[GAME] Goal scored handler error:",C)}};let y=0;const S=B=>{const C=Math.min((B-E)/1e3,.1);E=B;try{if(a.phase==="playing"){n(C),w.updateAI(a,C),b(),f.applyWaterPhysics(a,C);const{goalScored:H,scoringTeam:L}=f.checkCollisions(a);H&&L&&_(L),y<=0?O():y-=C,a.time-=C,a.time<=0&&(a.time=0,a.phase="game_over",A.playWhistle()),u(C)}P.pause&&(a.phase==="playing"?a.phase="paused":a.phase==="paused"&&(a.phase="playing")),P.switchPlayer&&a.phase==="playing"&&(F(),y=2),a.phase==="game_over"&&P.pass&&(G(),W()),m();try{R.render(a)}catch(H){console.error("[GAME RENDER ERROR]",H)}p=requestAnimationFrame(S)}catch(H){console.error("[GAME LOOP ERROR]",H),p=requestAnimationFrame(S)}},W=()=>{try{if(a.phase!=="menu"&&a.phase!=="game_over")return;A.loadAudio(),t(),a.score={white:0,blue:0},a.time=s.gameDuration,a.phase="countdown",a.countdownValue=3;const B=Ee(()=>{try{a.countdownValue--,a.countdownValue<=0&&(clearInterval(B),a.phase="playing",A.playWhistle())}catch(C){console.error("[GAME] Start countdown error:",C),clearInterval(B),a.phase="playing"}},1e3);p||(E=performance.now(),p=requestAnimationFrame(S))}catch(B){console.error("[GAME] Start game error:",B)}},D=()=>{a.phase==="playing"&&(a.phase="paused")},j=()=>{a.phase==="paused"&&(a.phase="playing")},G=()=>{a.phase="menu",a.score={white:0,blue:0},a.time=s.gameDuration,a.lastGoalTeam=null,t()};return{gameState:a,config:s,startGame:W,pauseGame:D,resumeGame:j,resetGame:G,initGame:()=>{console.log("[GAME] Initializing game engine..."),d(),E=performance.now(),p=requestAnimationFrame(S)},cleanupGame:()=>{console.log("[GAME] Cleaning up game engine..."),v(),A.cleanup(),p&&(cancelAnimationFrame(p),p=null)},touchState:$,triggerPass:M,triggerShoot:l,triggerSwitch:k}}const No=["width","height"],Qo={key:0,class:"game-overlay"},Xo={class:"menu-content"},Ko={key:0,class:"controls-info"},Uo={key:1,class:"controls-info mobile-info"},Jo={key:0,class:"touch-controls"},Zo={class:"touch-buttons"},es=["title"],ts={key:0,xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},os={key:1,xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},ss=se({__name:"WaterpoloGame",setup(i){const s=Z(null),e=Z(null),{gameState:x,config:h,startGame:g,initGame:P,cleanupGame:$,touchState:m,triggerPass:d,triggerShoot:v,triggerSwitch:M}=Yo(s),l=Z(!1),k=Z(1),f=()=>{if(!e.value)return;const A=e.value.clientWidth,p=h.canvasWidth;A<p?k.value=A/p:k.value=1},w=async()=>{if(e.value)try{document.fullscreenElement?(await document.exitFullscreen(),l.value=!1):(await e.value.requestFullscreen(),l.value=!0)}catch(A){console.warn("Fullscreen not supported:",A)}},R=()=>{l.value=!!document.fullscreenElement,Ge(f)};return me(()=>{P(),f(),window.addEventListener("resize",f),document.addEventListener("fullscreenchange",R)}),xe(()=>{$(),window.removeEventListener("resize",f),document.removeEventListener("fullscreenchange",R)}),(A,p)=>(z(),q("div",{ref_key:"containerRef",ref:e,class:X(["game-container",{"is-fullscreen":c(l),"is-mobile":c(m).isMobile}])},[o("div",{class:"canvas-wrapper",style:te({width:`${c(h).canvasWidth}px`,height:`${c(h).canvasHeight}px`,transform:`scale(${c(k)})`,transformOrigin:"top center"})},[o("canvas",{ref_key:"canvasRef",ref:s,width:c(h).canvasWidth,height:c(h).canvasHeight,class:"game-canvas"},null,8,No),c(x).phase==="menu"?(z(),q("div",Qo,[o("div",Xo,[p[6]||(p[6]=o("h2",{class:"menu-title"},"WATERPOLO",-1)),p[7]||(p[7]=o("p",{class:"menu-subtitle"},"RETRO EDITION",-1)),o("button",{class:"play-button",onClick:p[0]||(p[0]=(...E)=>c(g)&&c(g)(...E))}," PLAY GAME "),c(m).isMobile?(z(),q("div",Uo,[...p[5]||(p[5]=[o("h3",null,"TOUCH CONTROLS",-1),o("p",{class:"touch-hint"},"Drag left side to move",-1),o("p",{class:"touch-hint"},"Tap buttons to pass/shoot",-1)])])):(z(),q("div",Ko,[...p[4]||(p[4]=[Ie('<h3 data-v-5fdc3d00>CONTROLS</h3><div class="control-row" data-v-5fdc3d00><span class="key" data-v-5fdc3d00>ARROWS</span><span class="action" data-v-5fdc3d00>Move</span></div><div class="control-row" data-v-5fdc3d00><span class="key" data-v-5fdc3d00>Q</span><span class="action" data-v-5fdc3d00>Pass Ball</span></div><div class="control-row" data-v-5fdc3d00><span class="key" data-v-5fdc3d00>W</span><span class="action" data-v-5fdc3d00>Shoot</span></div><div class="control-row" data-v-5fdc3d00><span class="key" data-v-5fdc3d00>E</span><span class="action" data-v-5fdc3d00>Switch Player</span></div><div class="control-row" data-v-5fdc3d00><span class="key" data-v-5fdc3d00>ESC</span><span class="action" data-v-5fdc3d00>Pause</span></div>',6)])]))])])):pe("",!0)],4),c(m).isMobile&&c(x).phase==="playing"?(z(),q("div",Jo,[c(m).joystickActive?(z(),q("div",{key:0,class:"joystick-indicator",style:te({left:`${c(m).joystickCenter.x}px`,top:`${c(m).joystickCenter.y}px`})},[o("div",{class:"joystick-knob",style:te({transform:`translate(${c(m).joystickCurrent.x-c(m).joystickCenter.x}px, ${c(m).joystickCurrent.y-c(m).joystickCenter.y}px)`})},null,4)],4)):pe("",!0),o("div",Zo,[o("button",{class:"touch-btn switch-btn",onTouchstart:p[1]||(p[1]=_e((...E)=>c(M)&&c(M)(...E),["prevent"]))}," E ",32),o("button",{class:"touch-btn pass-btn",onTouchstart:p[2]||(p[2]=_e((...E)=>c(d)&&c(d)(...E),["prevent"]))}," Q ",32),o("button",{class:"touch-btn shoot-btn",onTouchstart:p[3]||(p[3]=_e((...E)=>c(v)&&c(v)(...E),["prevent"]))}," W ",32)])])):pe("",!0),o("button",{class:"fullscreen-btn",title:c(l)?"Exit Fullscreen":"Fullscreen",onClick:w},[c(l)?(z(),q("svg",os,[...p[9]||(p[9]=[o("path",{d:"M8 3v3a2 2 0 0 1-2 2H3m18 0h-3a2 2 0 0 1-2-2V3m0 18v-3a2 2 0 0 1 2-2h3M3 16h3a2 2 0 0 1 2 2v3"},null,-1)])])):(z(),q("svg",ts,[...p[8]||(p[8]=[o("path",{d:"M8 3H5a2 2 0 0 0-2 2v3m18 0V5a2 2 0 0 0-2-2h-3m0 18h3a2 2 0 0 0 2-2v-3M3 16v3a2 2 0 0 0 2 2h3"},null,-1)])]))],8,es)],2))}}),as=Object.assign(ge(ss,[["__scopeId","data-v-5fdc3d00"]]),{__name:"GameWaterpoloGame"}),ls={class:"container mx-auto px-4 relative z-10"},ns={class:"inline-block px-4 py-2 bg-electric-cyan/20 rounded-full text-electric-cyan text-sm font-medium mb-4"},is={class:"text-4xl md:text-5xl font-display text-cream mb-4"},rs={class:"text-lg text-soft-slate max-w-2xl mx-auto"},cs={class:"text-soft-slate text-sm"},ds={class:"flex items-center gap-2 text-soft-slate text-sm"},us={class:"flex items-center gap-2 text-soft-slate text-sm"},hs={class:"flex items-center gap-2 text-soft-slate text-sm"},ps={class:"flex items-center gap-2 text-soft-slate text-sm"},ms=se({__name:"SectionGame",setup(i){const{elementRef:s,isVisible:e}=de({threshold:.1}),{t:x}=ne();return(h,g)=>{const P=as,$=Ye;return z(),q("section",{id:"game",ref_key:"sectionRef",ref:s,class:"relative py-20 md:py-28 overflow-hidden bg-dark-bg"},[g[5]||(g[5]=o("div",{class:"absolute inset-0 opacity-10"},[o("div",{class:"absolute inset-0",style:{"background-image":"radial-gradient(circle at 2px 2px, #70BECF 1px, transparent 0)","background-size":"40px 40px"}})],-1)),o("div",ls,[o("div",{class:X(["text-center mb-12 scroll-reveal",{"is-visible":c(e)}])},[o("span",ns,I(c(x).game?.badge||"ARCADE"),1),o("h2",is,I(c(x).game?.title||"Play Waterpolo"),1),o("p",rs,I(c(x).game?.description||"Experience the excitement of waterpolo with our retro-style arcade game. Control your player, pass to teammates, and score goals!"),1)],2),o("div",{class:X(["flex justify-center scroll-reveal stagger-2",{"is-visible":c(e)}])},[oe($,null,{fallback:ke(()=>[...g[0]||(g[0]=[o("div",{class:"w-[800px] max-w-full aspect-[5/3] bg-dark-surface rounded-lg flex items-center justify-center"},[o("div",{class:"text-center"},[o("div",{class:"animate-spin w-8 h-8 border-4 border-electric-cyan border-t-transparent rounded-full mx-auto mb-4"}),o("p",{class:"text-soft-slate font-mono text-sm"},"Loading game...")])],-1)])]),default:ke(()=>[oe(P)]),_:1})],2),o("div",{class:X(["mt-8 text-center scroll-reveal stagger-3 md:hidden",{"is-visible":c(e)}])},[o("p",cs,I(c(x).game?.mobileNote||"For the best experience, play on a device with a keyboard."),1)],2),o("div",{class:X(["mt-8 hidden md:flex justify-center gap-8 scroll-reveal stagger-3",{"is-visible":c(e)}])},[o("div",ds,[g[1]||(g[1]=Ie('<div class="flex gap-1" data-v-13d51533><kbd class="px-2 py-1 bg-dark-surface border border-ocean-blue rounded text-xs text-cream" data-v-13d51533>  </kbd><kbd class="px-2 py-1 bg-dark-surface border border-ocean-blue rounded text-xs text-cream" data-v-13d51533>  </kbd><kbd class="px-2 py-1 bg-dark-surface border border-ocean-blue rounded text-xs text-cream" data-v-13d51533>  </kbd><kbd class="px-2 py-1 bg-dark-surface border border-ocean-blue rounded text-xs text-cream" data-v-13d51533>  </kbd></div>',1)),o("span",null,I(c(x).game?.move||"Move"),1)]),o("div",us,[g[2]||(g[2]=o("kbd",{class:"px-3 py-1 bg-dark-surface border border-ocean-blue rounded text-xs text-cream"}," Q ",-1)),o("span",null,I(c(x).game?.pass||"Pass"),1)]),o("div",hs,[g[3]||(g[3]=o("kbd",{class:"px-3 py-1 bg-dark-surface border border-ocean-blue rounded text-xs text-cream"}," W ",-1)),o("span",null,I(c(x).game?.shoot||"Shoot"),1)]),o("div",ps,[g[4]||(g[4]=o("kbd",{class:"px-3 py-1 bg-dark-surface border border-ocean-blue rounded text-xs text-cream"}," E ",-1)),o("span",null,I(c(x).game?.switchPlayer||"Switch"),1)])],2)])],512)}}}),fs=Object.assign(ge(ms,[["__scopeId","data-v-13d51533"]]),{__name:"SectionGame"}),vs={id:"registration",class:"py-20 md:py-32 relative overflow-hidden bg-aqua-wash/40","aria-labelledby":"registration-heading"},xs={class:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 relative z-10"},gs={id:"registration-heading",class:"section-title text-gradient"},ys={class:"mb-8"},bs={class:"text-ocean-blue dark:text-electric-cyan text-sm uppercase tracking-widest mb-2"},ws={class:"font-display text-6xl md:text-7xl text-gradient mb-2"},_s={value:"250"},ks={class:"text-deep-navy/60 dark:text-cream/60"},Ss={class:"text-deep-navy/50 dark:text-cream/50 text-sm mt-2 italic"},Ms={class:"grid md:grid-cols-2 gap-6 mb-8"},Ps={class:"flex items-center gap-4 p-4 rounded-lg bg-deep-navy/5 dark:bg-cream/5"},Cs={class:"text-left"},Ts={class:"font-display text-sm tracking-wide text-ocean-blue dark:text-electric-cyan"},Bs={class:"text-deep-navy/80 dark:text-cream/80 text-sm"},Is={class:"flex items-center gap-4 p-4 rounded-lg bg-deep-navy/5 dark:bg-cream/5"},$s={class:"text-left"},Rs={class:"font-display text-sm tracking-wide text-neon-coral"},As={class:"text-deep-navy/80 dark:text-cream/80 text-sm"},Es=se({__name:"SectionRegistration",setup(i){const{t:s}=ne(),{openModal:e}=We("modalControls"),{elementRef:x,isVisible:h}=de({threshold:.3}),{elementRef:g,isVisible:P}=de({threshold:.2,delay:200}),$=U(()=>({"@context":"https://schema.org","@type":"Offer",name:"Team Registration - Valencia Masters Water Polo Cup 2026",description:"Team registration fee for the Valencia Masters Water Polo Cup 2026. Includes up to 16 players.",price:"250",priceCurrency:"EUR",availability:"https://schema.org/InStock",validFrom:"2025-01-01",validThrough:"2026-04-15",url:"https://valenciamasterswaterpolo.com/#registration",eligibleQuantity:{"@type":"QuantitativeValue",value:"16",unitText:"players"},seller:{"@type":"Organization",name:"Valencia Masters Water Polo Cup",url:"https://valenciamasterswaterpolo.com"}}));return ye({script:[{type:"application/ld+json",innerHTML:JSON.stringify($.value)}]}),(m,d)=>(z(),q("section",vs,[d[5]||(d[5]=o("div",{class:"absolute inset-0 bg-gradient-to-br from-neon-coral/5 via-transparent to-electric-cyan/5","aria-hidden":"true"},null,-1)),o("div",xs,[o("div",{ref_key:"titleRef",ref:x,class:X(["text-center mb-16 scroll-reveal",{"is-visible":c(h)}])},[o("h2",gs,I(c(s).registration.title),1),d[1]||(d[1]=o("div",{class:"neon-divider","aria-hidden":"true"},null,-1))],2),o("article",{ref_key:"cardRef",ref:g,class:X(["glass-card p-8 md:p-12 text-center scroll-reveal-scale",{"is-visible":c(P)}])},[o("div",ys,[o("p",bs,I(c(s).registration.fee.label),1),o("p",ws,[o("data",_s,I(c(s).registration.fee.value),1)]),o("p",ks,I(c(s).registration.fee.per),1),o("p",Ss,I(c(s).registration.fee.note),1)]),d[4]||(d[4]=o("div",{class:"w-full h-px bg-gradient-to-r from-transparent via-soft-slate/30 to-transparent my-8","aria-hidden":"true"},null,-1)),o("dl",Ms,[o("div",Ps,[d[2]||(d[2]=o("div",{class:"flex-shrink-0 w-10 h-10 flex items-center justify-center rounded-full bg-ocean-blue/15 text-ocean-blue","aria-hidden":"true"},[o("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})])],-1)),o("div",Cs,[o("dt",Ts,I(c(s).registration.players.label),1),o("dd",Bs,I(c(s).registration.players.value),1)])]),o("div",Is,[d[3]||(d[3]=o("div",{class:"flex-shrink-0 w-10 h-10 flex items-center justify-center rounded-full bg-neon-coral/15 text-neon-coral","aria-hidden":"true"},[o("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v3m0 0v3m0-3h3m-3 0H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1)),o("div",$s,[o("dt",Rs,I(c(s).registration.extra.label),1),o("dd",As,I(c(s).registration.extra.value),1)])])]),o("button",{class:"btn-primary text-xl","aria-label":"Open pre-registration form",onClick:d[0]||(d[0]=(...v)=>c(e)&&c(e)(...v))},I(c(s).registration.cta),1)],2)])]))}}),Fs=Object.assign(Es,{__name:"SectionRegistration"}),Ws={id:"faq",class:"py-20 md:py-32 relative overflow-hidden","aria-labelledby":"faq-heading"},Os={class:"max-w-3xl mx-auto px-4 sm:px-6 lg:px-8 relative z-10"},Ds={class:"text-center mb-16"},js={id:"faq-heading",class:"section-title text-gradient"},Ls=["aria-label"],Vs=["id","aria-expanded","aria-controls","onClick"],Gs={class:"font-display text-lg tracking-wide text-deep-navy dark:text-cream pr-4"},Hs=["id","aria-labelledby"],zs={class:"px-6 pb-4 text-deep-navy/70 dark:text-cream/70 leading-relaxed border-t border-soft-slate/10 dark:border-soft-slate/20 pt-4"},qs={class:"text-center mt-12"},Ys={class:"text-deep-navy/60 dark:text-cream/60 mb-4"},Ns=["href"],Qs=se({__name:"SectionFAQ",setup(i){const{t:s}=ne(),e=Z([0]),x=m=>{const d=e.value.indexOf(m);d>-1?e.value.splice(d,1):e.value.push(m)},h=m=>e.value.includes(m),g=m=>`faq-question-${m}`,P=m=>`faq-answer-${m}`,$=U(()=>{const m=s.value.faq.items;return!m||m.length===0?null:{"@context":"https://schema.org","@type":"FAQPage",mainEntity:m.map(d=>({"@type":"Question",name:d.question,acceptedAnswer:{"@type":"Answer",text:d.answer}}))}});return ye({script:U(()=>$.value?[{type:"application/ld+json",innerHTML:JSON.stringify($.value)}]:[])}),(m,d)=>(z(),q("section",Ws,[d[3]||(d[3]=o("div",{class:"absolute -top-32 -left-32 w-96 h-96 bg-electric-cyan/10 rounded-full blur-3xl","aria-hidden":"true"},null,-1)),d[4]||(d[4]=o("div",{class:"absolute -bottom-32 -right-32 w-96 h-96 bg-valencia-purple/10 rounded-full blur-3xl","aria-hidden":"true"},null,-1)),o("div",Os,[o("div",Ds,[o("h2",js,I(c(s).faq.title),1),d[0]||(d[0]=o("div",{class:"neon-divider","aria-hidden":"true"},null,-1))]),o("div",{class:"space-y-4",role:"list","aria-label":c(s).faq.title},[(z(!0),q(ue,null,he(c(s).faq.items,(v,M)=>(z(),q("div",{key:M,class:"glass-card overflow-hidden",role:"listitem"},[o("h3",null,[o("button",{id:g(M),"aria-expanded":h(M),"aria-controls":P(M),class:"w-full px-6 py-4 flex items-center justify-between text-left hover:bg-ocean-blue/5 dark:hover:bg-ocean-blue/10 transition-colors",onClick:l=>x(M)},[o("span",Gs,I(v.question),1),(z(),q("svg",{class:X(["flex-shrink-0 w-5 h-5 text-ocean-blue dark:text-electric-cyan transition-transform duration-300",{"rotate-180":h(M)}]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true"},[...d[1]||(d[1]=[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"},null,-1)])],2))],8,Vs)]),oe(qe,{"enter-active-class":"transition-all duration-300 ease-out","enter-from-class":"max-h-0 opacity-0","enter-to-class":"max-h-96 opacity-100","leave-active-class":"transition-all duration-200 ease-in","leave-from-class":"max-h-96 opacity-100","leave-to-class":"max-h-0 opacity-0"},{default:ke(()=>[He(o("div",{id:P(M),role:"region","aria-labelledby":g(M),class:"overflow-hidden"},[o("div",zs,I(v.answer),1)],8,Hs),[[ze,h(M)]])]),_:2},1024)]))),128))],8,Ls),o("div",qs,[o("p",Ys,I(c(s).faq.moreQuestions),1),o("a",{href:`mailto:${c(s).contact.email}`,class:"btn-primary inline-flex items-center gap-2","aria-label":"Contact us via email"},[d[2]||(d[2]=o("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})],-1)),De(" "+I(c(s).faq.contactUs),1)],8,Ns)])])]))}}),Xs=Object.assign(Qs,{__name:"SectionFAQ"}),ea=se({__name:"index",setup(i){return(s,e)=>{const x=et,h=ht,g=_t,P=Lt,$=Xt,m=so,d=xo,v=Mo,M=Eo,l=fs,k=Fs,f=Xs;return z(),q("div",null,[oe(x),oe(h),oe(g),oe(P),oe($),oe(m),oe(d),oe(v),oe(M),oe(l),oe(k),oe(f)])}}});export{ea as default};
